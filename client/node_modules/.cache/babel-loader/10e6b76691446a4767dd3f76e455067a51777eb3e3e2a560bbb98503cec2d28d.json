{"ast":null,"code":"var _jsxFileName = \"/Users/abdullahinor/Desktop/Qawwam/client/src/components/QuranQuiz.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useAuth } from '../context/AuthContext';\nimport { doc, getDoc, setDoc } from 'firebase/firestore';\nimport { db } from '../config/firebase';\nimport { Play, Trophy, ChevronRight, Check, X, AlertCircle, Eye, EyeOff, RotateCcw, Zap, Book } from 'lucide-react';\n\n// All 114 Surahs with Juz information\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst SURAH_DATA = {\n  1: {\n    juz: 1,\n    name: 'Al-Fatihah',\n    arabicName: 'Ø§Ù„ÙØ§ØªØ­Ø©',\n    ayahs: 7\n  },\n  2: {\n    juz: [1, 2, 3],\n    name: 'Al-Baqarah',\n    arabicName: 'Ø§Ù„Ø¨Ù‚Ø±Ø©',\n    ayahs: 286\n  },\n  3: {\n    juz: [3, 4],\n    name: 'Aal-E-Imran',\n    arabicName: 'Ø¢Ù„ Ø¹Ù…Ø±Ø§Ù†',\n    ayahs: 200\n  },\n  4: {\n    juz: [4, 5, 6],\n    name: 'An-Nisa',\n    arabicName: 'Ø§Ù„Ù†Ø³Ø§Ø¡',\n    ayahs: 176\n  },\n  5: {\n    juz: 6,\n    name: 'Al-Maidah',\n    arabicName: 'Ø§Ù„Ù…Ø§Ø¦Ø¯Ø©',\n    ayahs: 120\n  },\n  6: {\n    juz: [7, 8],\n    name: 'Al-Anam',\n    arabicName: 'Ø§Ù„Ø£Ù†Ø¹Ø§Ù…',\n    ayahs: 165\n  },\n  7: {\n    juz: [8, 9],\n    name: 'Al-Araf',\n    arabicName: 'Ø§Ù„Ø£Ø¹Ø±Ø§Ù',\n    ayahs: 206\n  },\n  8: {\n    juz: [9, 10],\n    name: 'Al-Anfal',\n    arabicName: 'Ø§Ù„Ø£Ù†ÙØ§Ù„',\n    ayahs: 75\n  },\n  9: {\n    juz: [10, 11],\n    name: 'At-Tawbah',\n    arabicName: 'Ø§Ù„ØªÙˆØ¨Ø©',\n    ayahs: 129\n  },\n  10: {\n    juz: 11,\n    name: 'Yunus',\n    arabicName: 'ÙŠÙˆÙ†Ø³',\n    ayahs: 109\n  },\n  11: {\n    juz: [11, 12],\n    name: 'Hud',\n    arabicName: 'Ù‡ÙˆØ¯',\n    ayahs: 123\n  },\n  12: {\n    juz: [12, 13],\n    name: 'Yusuf',\n    arabicName: 'ÙŠÙˆØ³Ù',\n    ayahs: 111\n  },\n  13: {\n    juz: 13,\n    name: \"Ar-Ra'd\",\n    arabicName: 'Ø§Ù„Ø±Ø¹Ø¯',\n    ayahs: 43\n  },\n  14: {\n    juz: 13,\n    name: 'Ibrahim',\n    arabicName: 'Ø¥Ø¨Ø±Ø§Ù‡ÙŠÙ…',\n    ayahs: 52\n  },\n  15: {\n    juz: 14,\n    name: 'Al-Hijr',\n    arabicName: 'Ø§Ù„Ø­Ø¬Ø±',\n    ayahs: 99\n  },\n  16: {\n    juz: 14,\n    name: 'An-Nahl',\n    arabicName: 'Ø§Ù„Ù†Ø­Ù„',\n    ayahs: 128\n  },\n  17: {\n    juz: 15,\n    name: 'Al-Isra',\n    arabicName: 'Ø§Ù„Ø¥Ø³Ø±Ø§Ø¡',\n    ayahs: 111\n  },\n  18: {\n    juz: [15, 16],\n    name: 'Al-Kahf',\n    arabicName: 'Ø§Ù„ÙƒÙ‡Ù',\n    ayahs: 110\n  },\n  19: {\n    juz: 16,\n    name: 'Maryam',\n    arabicName: 'Ù…Ø±ÙŠÙ…',\n    ayahs: 98\n  },\n  20: {\n    juz: 16,\n    name: 'Taha',\n    arabicName: 'Ø·Ù‡',\n    ayahs: 135\n  },\n  21: {\n    juz: 17,\n    name: 'Al-Anbiya',\n    arabicName: 'Ø§Ù„Ø£Ù†Ø¨ÙŠØ§Ø¡',\n    ayahs: 112\n  },\n  22: {\n    juz: 17,\n    name: 'Al-Hajj',\n    arabicName: 'Ø§Ù„Ø­Ø¬',\n    ayahs: 78\n  },\n  23: {\n    juz: 18,\n    name: \"Al-Mu'minun\",\n    arabicName: 'Ø§Ù„Ù…Ø¤Ù…Ù†ÙˆÙ†',\n    ayahs: 118\n  },\n  24: {\n    juz: 18,\n    name: 'An-Nur',\n    arabicName: 'Ø§Ù„Ù†ÙˆØ±',\n    ayahs: 64\n  },\n  25: {\n    juz: [18, 19],\n    name: 'Al-Furqan',\n    arabicName: 'Ø§Ù„ÙØ±Ù‚Ø§Ù†',\n    ayahs: 77\n  },\n  26: {\n    juz: 19,\n    name: 'Ash-Shuara',\n    arabicName: 'Ø§Ù„Ø´Ø¹Ø±Ø§Ø¡',\n    ayahs: 227\n  },\n  27: {\n    juz: [19, 20],\n    name: 'An-Naml',\n    arabicName: 'Ø§Ù„Ù†Ù…Ù„',\n    ayahs: 93\n  },\n  28: {\n    juz: 20,\n    name: 'Al-Qasas',\n    arabicName: 'Ø§Ù„Ù‚ØµØµ',\n    ayahs: 88\n  },\n  29: {\n    juz: [20, 21],\n    name: 'Al-Ankabut',\n    arabicName: 'Ø§Ù„Ø¹Ù†ÙƒØ¨ÙˆØª',\n    ayahs: 69\n  },\n  30: {\n    juz: 21,\n    name: 'Ar-Rum',\n    arabicName: 'Ø§Ù„Ø±ÙˆÙ…',\n    ayahs: 60\n  },\n  31: {\n    juz: 21,\n    name: 'Luqman',\n    arabicName: 'Ù„Ù‚Ù…Ø§Ù†',\n    ayahs: 34\n  },\n  32: {\n    juz: 21,\n    name: 'As-Sajdah',\n    arabicName: 'Ø§Ù„Ø³Ø¬Ø¯Ø©',\n    ayahs: 30\n  },\n  33: {\n    juz: [21, 22],\n    name: 'Al-Ahzab',\n    arabicName: 'Ø§Ù„Ø£Ø­Ø²Ø§Ø¨',\n    ayahs: 73\n  },\n  34: {\n    juz: 22,\n    name: 'Saba',\n    arabicName: 'Ø³Ø¨Ø£',\n    ayahs: 54\n  },\n  35: {\n    juz: 22,\n    name: 'Fatir',\n    arabicName: 'ÙØ§Ø·Ø±',\n    ayahs: 45\n  },\n  36: {\n    juz: [22, 23],\n    name: 'Ya-Sin',\n    arabicName: 'ÙŠØ³',\n    ayahs: 83\n  },\n  37: {\n    juz: 23,\n    name: 'As-Saffat',\n    arabicName: 'Ø§Ù„ØµØ§ÙØ§Øª',\n    ayahs: 182\n  },\n  38: {\n    juz: 23,\n    name: 'Sad',\n    arabicName: 'Øµ',\n    ayahs: 88\n  },\n  39: {\n    juz: [23, 24],\n    name: 'Az-Zumar',\n    arabicName: 'Ø§Ù„Ø²Ù…Ø±',\n    ayahs: 75\n  },\n  40: {\n    juz: 24,\n    name: 'Ghafir',\n    arabicName: 'ØºØ§ÙØ±',\n    ayahs: 85\n  },\n  41: {\n    juz: [24, 25],\n    name: 'Fussilat',\n    arabicName: 'ÙØµÙ„Øª',\n    ayahs: 54\n  },\n  42: {\n    juz: 25,\n    name: 'Ash-Shura',\n    arabicName: 'Ø§Ù„Ø´ÙˆØ±Ù‰',\n    ayahs: 53\n  },\n  43: {\n    juz: 25,\n    name: 'Az-Zukhruf',\n    arabicName: 'Ø§Ù„Ø²Ø®Ø±Ù',\n    ayahs: 89\n  },\n  44: {\n    juz: 25,\n    name: 'Ad-Dukhan',\n    arabicName: 'Ø§Ù„Ø¯Ø®Ø§Ù†',\n    ayahs: 59\n  },\n  45: {\n    juz: 25,\n    name: 'Al-Jathiyah',\n    arabicName: 'Ø§Ù„Ø¬Ø§Ø«ÙŠØ©',\n    ayahs: 37\n  },\n  46: {\n    juz: 26,\n    name: 'Al-Ahqaf',\n    arabicName: 'Ø§Ù„Ø£Ø­Ù‚Ø§Ù',\n    ayahs: 35\n  },\n  47: {\n    juz: 26,\n    name: 'Muhammad',\n    arabicName: 'Ù…Ø­Ù…Ø¯',\n    ayahs: 38\n  },\n  48: {\n    juz: 26,\n    name: 'Al-Fath',\n    arabicName: 'Ø§Ù„ÙØªØ­',\n    ayahs: 29\n  },\n  49: {\n    juz: 26,\n    name: 'Al-Hujurat',\n    arabicName: 'Ø§Ù„Ø­Ø¬Ø±Ø§Øª',\n    ayahs: 18\n  },\n  50: {\n    juz: 26,\n    name: 'Qaf',\n    arabicName: 'Ù‚',\n    ayahs: 45\n  },\n  51: {\n    juz: [26, 27],\n    name: 'Adh-Dhariyat',\n    arabicName: 'Ø§Ù„Ø°Ø§Ø±ÙŠØ§Øª',\n    ayahs: 60\n  },\n  52: {\n    juz: 27,\n    name: 'At-Tur',\n    arabicName: 'Ø§Ù„Ø·ÙˆØ±',\n    ayahs: 49\n  },\n  53: {\n    juz: 27,\n    name: 'An-Najm',\n    arabicName: 'Ø§Ù„Ù†Ø¬Ù…',\n    ayahs: 62\n  },\n  54: {\n    juz: 27,\n    name: 'Al-Qamar',\n    arabicName: 'Ø§Ù„Ù‚Ù…Ø±',\n    ayahs: 55\n  },\n  55: {\n    juz: 27,\n    name: 'Ar-Rahman',\n    arabicName: 'Ø§Ù„Ø±Ø­Ù…Ù†',\n    ayahs: 78\n  },\n  56: {\n    juz: 27,\n    name: 'Al-Waqia',\n    arabicName: 'Ø§Ù„ÙˆØ§Ù‚Ø¹Ø©',\n    ayahs: 96\n  },\n  57: {\n    juz: 27,\n    name: 'Al-Hadid',\n    arabicName: 'Ø§Ù„Ø­Ø¯ÙŠØ¯',\n    ayahs: 29\n  },\n  58: {\n    juz: 28,\n    name: 'Al-Mujadila',\n    arabicName: 'Ø§Ù„Ù…Ø¬Ø§Ø¯Ù„Ø©',\n    ayahs: 22\n  },\n  59: {\n    juz: 28,\n    name: 'Al-Hashr',\n    arabicName: 'Ø§Ù„Ø­Ø´Ø±',\n    ayahs: 24\n  },\n  60: {\n    juz: 28,\n    name: 'Al-Mumtahina',\n    arabicName: 'Ø§Ù„Ù…Ù…ØªØ­Ù†Ø©',\n    ayahs: 13\n  },\n  61: {\n    juz: 28,\n    name: 'As-Saff',\n    arabicName: 'Ø§Ù„ØµÙ',\n    ayahs: 14\n  },\n  62: {\n    juz: 28,\n    name: 'Al-Jumuah',\n    arabicName: 'Ø§Ù„Ø¬Ù…Ø¹Ø©',\n    ayahs: 11\n  },\n  63: {\n    juz: 28,\n    name: 'Al-Munafiqun',\n    arabicName: 'Ø§Ù„Ù…Ù†Ø§ÙÙ‚ÙˆÙ†',\n    ayahs: 11\n  },\n  64: {\n    juz: 28,\n    name: 'At-Taghabun',\n    arabicName: 'Ø§Ù„ØªØºØ§Ø¨Ù†',\n    ayahs: 18\n  },\n  65: {\n    juz: 28,\n    name: 'At-Talaq',\n    arabicName: 'Ø§Ù„Ø·Ù„Ø§Ù‚',\n    ayahs: 12\n  },\n  66: {\n    juz: 28,\n    name: 'At-Tahrim',\n    arabicName: 'Ø§Ù„ØªØ­Ø±ÙŠÙ…',\n    ayahs: 12\n  },\n  67: {\n    juz: 29,\n    name: 'Al-Mulk',\n    arabicName: 'Ø§Ù„Ù…Ù„Ùƒ',\n    ayahs: 30\n  },\n  68: {\n    juz: 29,\n    name: 'Al-Qalam',\n    arabicName: 'Ø§Ù„Ù‚Ù„Ù…',\n    ayahs: 52\n  },\n  69: {\n    juz: 29,\n    name: 'Al-Haqqah',\n    arabicName: 'Ø§Ù„Ø­Ø§Ù‚Ø©',\n    ayahs: 52\n  },\n  70: {\n    juz: 29,\n    name: 'Al-Maarij',\n    arabicName: 'Ø§Ù„Ù…Ø¹Ø§Ø±Ø¬',\n    ayahs: 44\n  },\n  71: {\n    juz: 29,\n    name: 'Nuh',\n    arabicName: 'Ù†ÙˆØ­',\n    ayahs: 28\n  },\n  72: {\n    juz: 29,\n    name: 'Al-Jinn',\n    arabicName: 'Ø§Ù„Ø¬Ù†',\n    ayahs: 28\n  },\n  73: {\n    juz: 29,\n    name: 'Al-Muzzammil',\n    arabicName: 'Ø§Ù„Ù…Ø²Ù…Ù„',\n    ayahs: 20\n  },\n  74: {\n    juz: 29,\n    name: 'Al-Muddaththir',\n    arabicName: 'Ø§Ù„Ù…Ø¯Ø«Ø±',\n    ayahs: 56\n  },\n  75: {\n    juz: 29,\n    name: 'Al-Qiyamah',\n    arabicName: 'Ø§Ù„Ù‚ÙŠØ§Ù…Ø©',\n    ayahs: 40\n  },\n  76: {\n    juz: 29,\n    name: 'Al-Insan',\n    arabicName: 'Ø§Ù„Ø¥Ù†Ø³Ø§Ù†',\n    ayahs: 31\n  },\n  77: {\n    juz: 29,\n    name: 'Al-Mursalat',\n    arabicName: 'Ø§Ù„Ù…Ø±Ø³Ù„Ø§Øª',\n    ayahs: 50\n  },\n  78: {\n    juz: 30,\n    name: 'An-Naba',\n    arabicName: 'Ø§Ù„Ù†Ø¨Ø£',\n    ayahs: 40\n  },\n  79: {\n    juz: 30,\n    name: 'An-Naziat',\n    arabicName: 'Ø§Ù„Ù†Ø§Ø²Ø¹Ø§Øª',\n    ayahs: 46\n  },\n  80: {\n    juz: 30,\n    name: 'Abasa',\n    arabicName: 'Ø¹Ø¨Ø³',\n    ayahs: 42\n  },\n  81: {\n    juz: 30,\n    name: 'At-Takwir',\n    arabicName: 'Ø§Ù„ØªÙƒÙˆÙŠØ±',\n    ayahs: 29\n  },\n  82: {\n    juz: 30,\n    name: 'Al-Infitar',\n    arabicName: 'Ø§Ù„Ø§Ù†ÙØ·Ø§Ø±',\n    ayahs: 19\n  },\n  83: {\n    juz: 30,\n    name: 'Al-Mutaffifin',\n    arabicName: 'Ø§Ù„Ù…Ø·ÙÙÙŠÙ†',\n    ayahs: 36\n  },\n  84: {\n    juz: 30,\n    name: 'Al-Inshiqaq',\n    arabicName: 'Ø§Ù„Ø§Ù†Ø´Ù‚Ø§Ù‚',\n    ayahs: 25\n  },\n  85: {\n    juz: 30,\n    name: 'Al-Buruj',\n    arabicName: 'Ø§Ù„Ø¨Ø±ÙˆØ¬',\n    ayahs: 22\n  },\n  86: {\n    juz: 30,\n    name: 'At-Tariq',\n    arabicName: 'Ø§Ù„Ø·Ø§Ø±Ù‚',\n    ayahs: 17\n  },\n  87: {\n    juz: 30,\n    name: 'Al-Ala',\n    arabicName: 'Ø§Ù„Ø£Ø¹Ù„Ù‰',\n    ayahs: 19\n  },\n  88: {\n    juz: 30,\n    name: 'Al-Ghashiyah',\n    arabicName: 'Ø§Ù„ØºØ§Ø´ÙŠØ©',\n    ayahs: 26\n  },\n  89: {\n    juz: 30,\n    name: 'Al-Fajr',\n    arabicName: 'Ø§Ù„ÙØ¬Ø±',\n    ayahs: 30\n  },\n  90: {\n    juz: 30,\n    name: 'Al-Balad',\n    arabicName: 'Ø§Ù„Ø¨Ù„Ø¯',\n    ayahs: 20\n  },\n  91: {\n    juz: 30,\n    name: 'Ash-Shams',\n    arabicName: 'Ø§Ù„Ø´Ù…Ø³',\n    ayahs: 15\n  },\n  92: {\n    juz: 30,\n    name: 'Al-Layl',\n    arabicName: 'Ø§Ù„Ù„ÙŠÙ„',\n    ayahs: 21\n  },\n  93: {\n    juz: 30,\n    name: 'Ad-Duha',\n    arabicName: 'Ø§Ù„Ø¶Ø­Ù‰',\n    ayahs: 11\n  },\n  94: {\n    juz: 30,\n    name: 'Ash-Sharh',\n    arabicName: 'Ø§Ù„Ø´Ø±Ø­',\n    ayahs: 8\n  },\n  95: {\n    juz: 30,\n    name: 'At-Tin',\n    arabicName: 'Ø§Ù„ØªÙŠÙ†',\n    ayahs: 8\n  },\n  96: {\n    juz: 30,\n    name: 'Al-Alaq',\n    arabicName: 'Ø§Ù„Ø¹Ù„Ù‚',\n    ayahs: 19\n  },\n  97: {\n    juz: 30,\n    name: 'Al-Qadr',\n    arabicName: 'Ø§Ù„Ù‚Ø¯Ø±',\n    ayahs: 5\n  },\n  98: {\n    juz: 30,\n    name: 'Al-Bayyinah',\n    arabicName: 'Ø§Ù„Ø¨ÙŠÙ†Ø©',\n    ayahs: 8\n  },\n  99: {\n    juz: 30,\n    name: 'Az-Zalzalah',\n    arabicName: 'Ø§Ù„Ø²Ù„Ø²Ù„Ø©',\n    ayahs: 8\n  },\n  100: {\n    juz: 30,\n    name: 'Al-Adiyat',\n    arabicName: 'Ø§Ù„Ø¹Ø§Ø¯ÙŠØ§Øª',\n    ayahs: 11\n  },\n  101: {\n    juz: 30,\n    name: 'Al-Qariah',\n    arabicName: 'Ø§Ù„Ù‚Ø§Ø±Ø¹Ø©',\n    ayahs: 11\n  },\n  102: {\n    juz: 30,\n    name: 'At-Takathur',\n    arabicName: 'Ø§Ù„ØªÙƒØ§Ø«Ø±',\n    ayahs: 8\n  },\n  103: {\n    juz: 30,\n    name: 'Al-Asr',\n    arabicName: 'Ø§Ù„Ø¹ØµØ±',\n    ayahs: 3\n  },\n  104: {\n    juz: 30,\n    name: 'Al-Humazah',\n    arabicName: 'Ø§Ù„Ù‡Ù…Ø²Ø©',\n    ayahs: 9\n  },\n  105: {\n    juz: 30,\n    name: 'Al-Fil',\n    arabicName: 'Ø§Ù„ÙÙŠÙ„',\n    ayahs: 5\n  },\n  106: {\n    juz: 30,\n    name: 'Quraysh',\n    arabicName: 'Ù‚Ø±ÙŠØ´',\n    ayahs: 4\n  },\n  107: {\n    juz: 30,\n    name: 'Al-Maun',\n    arabicName: 'Ø§Ù„Ù…Ø§Ø¹ÙˆÙ†',\n    ayahs: 7\n  },\n  108: {\n    juz: 30,\n    name: 'Al-Kawthar',\n    arabicName: 'Ø§Ù„ÙƒÙˆØ«Ø±',\n    ayahs: 3\n  },\n  109: {\n    juz: 30,\n    name: 'Al-Kafirun',\n    arabicName: 'Ø§Ù„ÙƒØ§ÙØ±ÙˆÙ†',\n    ayahs: 6\n  },\n  110: {\n    juz: 30,\n    name: 'An-Nasr',\n    arabicName: 'Ø§Ù„Ù†ØµØ±',\n    ayahs: 3\n  },\n  111: {\n    juz: 30,\n    name: 'Al-Masad',\n    arabicName: 'Ø§Ù„Ù…Ø³Ø¯',\n    ayahs: 5\n  },\n  112: {\n    juz: 30,\n    name: 'Al-Ikhlas',\n    arabicName: 'Ø§Ù„Ø¥Ø®Ù„Ø§Øµ',\n    ayahs: 4\n  },\n  113: {\n    juz: 30,\n    name: 'Al-Falaq',\n    arabicName: 'Ø§Ù„ÙÙ„Ù‚',\n    ayahs: 5\n  },\n  114: {\n    juz: 30,\n    name: 'An-Nas',\n    arabicName: 'Ø§Ù„Ù†Ø§Ø³',\n    ayahs: 6\n  }\n};\n\n// Number of ayahs per page (~15 ayahs = 1 page)\nconst AYAHS_PER_PAGE = 15;\nfunction QuranQuiz() {\n  _s();\n  const {\n    user\n  } = useAuth();\n  const [mode, setMode] = useState('setup'); // setup, quiz, reciting, results\n  const [quizConfig, setQuizConfig] = useState({\n    numRounds: 5,\n    recitationLength: 1 // 1 or 1.5 pages\n  });\n  const [questions, setQuestions] = useState([]);\n  const [currentQuestion, setCurrentQuestion] = useState(0);\n  const [showAnswer, setShowAnswer] = useState(false);\n  const [score, setScore] = useState({\n    correct: 0,\n    total: 0\n  });\n  const [loading, setLoading] = useState(false);\n  const [quizHistory, setQuizHistory] = useState([]);\n  const [continuationAyahs, setContinuationAyahs] = useState([]);\n  const [loadingContinuation, setLoadingContinuation] = useState(false);\n  useEffect(() => {\n    if (user) {\n      loadQuizHistory();\n    }\n  }, [user]);\n  const loadQuizHistory = async () => {\n    try {\n      const docRef = doc(db, 'users', user.uid, 'quran', 'quiz');\n      const docSnap = await getDoc(docRef);\n      if (docSnap.exists()) {\n        setQuizHistory(docSnap.data().history || []);\n      }\n    } catch (error) {\n      console.error('Error loading quiz history:', error);\n    }\n  };\n  const saveQuizResult = async result => {\n    try {\n      const docRef = doc(db, 'users', user.uid, 'quran', 'quiz');\n      const newHistory = [...quizHistory, result].slice(-50);\n      await setDoc(docRef, {\n        history: newHistory,\n        updatedAt: new Date().toISOString()\n      });\n      setQuizHistory(newHistory);\n    } catch (error) {\n      console.error('Error saving quiz result:', error);\n    }\n  };\n\n  // Generate random starting points from ALL 30 Juz\n  const generateQuestions = async () => {\n    setLoading(true);\n    const generatedQuestions = [];\n    const usedPositions = new Set();\n    for (let i = 0; i < quizConfig.numRounds; i++) {\n      // Pick a random Juz (1-30)\n      const targetJuz = Math.floor(Math.random() * 30) + 1;\n\n      // Find surahs in this Juz\n      const surahsInJuz = Object.entries(SURAH_DATA).filter(([_, info]) => {\n        const juz = info.juz;\n        if (Array.isArray(juz)) return juz.includes(targetJuz);\n        return juz === targetJuz;\n      });\n      if (surahsInJuz.length === 0) continue;\n\n      // Pick random surah from this Juz\n      const [surahNum, surahInfo] = surahsInJuz[Math.floor(Math.random() * surahsInJuz.length)];\n      const surah = parseInt(surahNum);\n\n      // Pick random ayah (not too close to the end to allow continuation)\n      const maxStartAyah = Math.max(1, surahInfo.ayahs - 20);\n      let ayahNum;\n      let positionKey;\n      let attempts = 0;\n      do {\n        ayahNum = Math.floor(Math.random() * maxStartAyah) + 1;\n        positionKey = `${surah}:${ayahNum}`;\n        attempts++;\n      } while (usedPositions.has(positionKey) && attempts < 20);\n      usedPositions.add(positionKey);\n\n      // Fetch the starting ayah\n      try {\n        const response = await fetch(`https://api.alquran.cloud/v1/ayah/${surah}:${ayahNum}/ar.alafasy`);\n        const data = await response.json();\n        if (data.code === 200) {\n          generatedQuestions.push({\n            id: i,\n            surah,\n            surahName: surahInfo.name,\n            surahArabic: surahInfo.arabicName,\n            juz: targetJuz,\n            ayahNum,\n            totalAyahs: surahInfo.ayahs,\n            startingAyah: data.data.text\n          });\n        }\n      } catch (error) {\n        console.error('Error fetching ayah:', error);\n      }\n    }\n\n    // Shuffle questions\n    generatedQuestions.sort(() => Math.random() - 0.5);\n    setQuestions(generatedQuestions);\n    setCurrentQuestion(0);\n    setScore({\n      correct: 0,\n      total: generatedQuestions.length\n    });\n    setMode('quiz');\n    setLoading(false);\n  };\n\n  // Fetch continuation ayahs (what comes AFTER the starting ayah)\n  const fetchContinuation = async question => {\n    setLoadingContinuation(true);\n    const numAyahs = Math.round(AYAHS_PER_PAGE * quizConfig.recitationLength);\n    const ayahs = [];\n    for (let i = 1; i <= numAyahs; i++) {\n      const nextAyah = question.ayahNum + i;\n      if (nextAyah > question.totalAyahs) break;\n      try {\n        const response = await fetch(`https://api.alquran.cloud/v1/ayah/${question.surah}:${nextAyah}/ar.alafasy`);\n        const data = await response.json();\n        if (data.code === 200) {\n          ayahs.push({\n            num: nextAyah,\n            text: data.data.text\n          });\n        }\n      } catch (error) {\n        console.error('Error fetching ayah:', error);\n      }\n    }\n    setContinuationAyahs(ayahs);\n    setLoadingContinuation(false);\n    setShowAnswer(true);\n  };\n  const handleAnswer = isCorrect => {\n    const newScore = isCorrect ? score.correct + 1 : score.correct;\n    setScore(prev => ({\n      ...prev,\n      correct: newScore\n    }));\n    setShowAnswer(false);\n    setContinuationAyahs([]);\n    if (currentQuestion < questions.length - 1) {\n      setCurrentQuestion(currentQuestion + 1);\n    } else {\n      // Quiz complete\n      const finalResult = {\n        correct: newScore,\n        total: questions.length,\n        percentage: Math.round(newScore / questions.length * 100),\n        date: new Date().toISOString(),\n        recitationLength: quizConfig.recitationLength\n      };\n      saveQuizResult(finalResult);\n      setMode('results');\n    }\n  };\n  const getScoreMessage = percentage => {\n    if (percentage >= 90) return {\n      emoji: 'ðŸ†',\n      message: 'Ù…Ø§ Ø´Ø§Ø¡ Ø§Ù„Ù„Ù‡! Excellent Hafiz!',\n      color: 'var(--gold)'\n    };\n    if (percentage >= 70) return {\n      emoji: 'â­',\n      message: 'Great memorization!',\n      color: 'var(--success)'\n    };\n    if (percentage >= 50) return {\n      emoji: 'ðŸ“–',\n      message: 'Good effort. Keep reviewing!',\n      color: 'var(--warning)'\n    };\n    return {\n      emoji: 'ðŸ’ª',\n      message: 'Practice makes perfect!',\n      color: 'var(--error)'\n    };\n  };\n\n  // Setup Screen\n  if (mode === 'setup') {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"quiz-setup\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"setup-header\",\n        children: [/*#__PURE__*/_jsxDEV(Trophy, {\n          size: 40,\n          className: \"trophy-icon\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 315,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"\\u0645\\u0633\\u0627\\u0628\\u0642\\u0629 \\u0627\\u0644\\u0642\\u0631\\u0622\\u0646\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 316,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Musabaqah Quiz\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 317,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"You'll be given an ayah. Recite what comes AFTER it.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 318,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 314,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"setup-options\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"option-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Number of Rounds\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 323,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"round-selector\",\n            children: [3, 5, 7, 10].map(num => /*#__PURE__*/_jsxDEV(\"button\", {\n              className: `round-btn ${quizConfig.numRounds === num ? 'active' : ''}`,\n              onClick: () => setQuizConfig(p => ({\n                ...p,\n                numRounds: num\n              })),\n              children: num\n            }, num, false, {\n              fileName: _jsxFileName,\n              lineNumber: 326,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 324,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 322,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"option-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Recitation Length\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 338,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"length-selector\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: `length-btn ${quizConfig.recitationLength === 1 ? 'active' : ''}`,\n              onClick: () => setQuizConfig(p => ({\n                ...p,\n                recitationLength: 1\n              })),\n              children: [/*#__PURE__*/_jsxDEV(Book, {\n                size: 20\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 344,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"length-label\",\n                children: \"1 Page\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 345,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"length-desc\",\n                children: \"~15 ayahs\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 346,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 340,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: `length-btn ${quizConfig.recitationLength === 1.5 ? 'active' : ''}`,\n              onClick: () => setQuizConfig(p => ({\n                ...p,\n                recitationLength: 1.5\n              })),\n              children: [/*#__PURE__*/_jsxDEV(Book, {\n                size: 20\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 352,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"length-label\",\n                children: \"1.5 Pages\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 353,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"length-desc\",\n                children: \"~22 ayahs\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 354,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 348,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 339,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 337,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"quiz-info\",\n          children: [/*#__PURE__*/_jsxDEV(AlertCircle, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 360,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"How it works:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 362,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"1. You see a starting ayah from anywhere in the Quran (Juz 1-30)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 363,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"2. Recite what comes AFTER it (not including the ayah shown)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 364,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"3. Click \\\"Show Answer\\\" to check your recitation\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 365,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"4. Mark as correct or incorrect\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 366,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 361,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 359,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 321,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"start-quiz-btn\",\n        onClick: generateQuestions,\n        disabled: loading,\n        children: loading ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: \"Preparing Questions...\"\n        }, void 0, false) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(Play, {\n            size: 20\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 375,\n            columnNumber: 15\n          }, this), \" Start Musabaqah\"]\n        }, void 0, true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 371,\n        columnNumber: 9\n      }, this), quizHistory.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"quiz-history\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Recent Scores\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 381,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"history-list\",\n          children: quizHistory.slice(-5).reverse().map((result, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"history-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"history-score\",\n              children: [result.percentage, \"%\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 385,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"history-detail\",\n              children: [result.correct, \"/\", result.total]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 386,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"history-date\",\n              children: new Date(result.date).toLocaleDateString()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 387,\n              columnNumber: 19\n            }, this)]\n          }, i, true, {\n            fileName: _jsxFileName,\n            lineNumber: 384,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 382,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 380,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"style\", {\n        children: `\n          .quiz-setup { animation: fadeIn 0.3s ease-out; }\n          .setup-header {\n            text-align: center;\n            padding: 30px 20px;\n            background: linear-gradient(135deg, var(--primary) 0%, #1a4a3a 100%);\n            border-radius: 20px;\n            margin-bottom: 20px;\n          }\n          .trophy-icon { color: var(--gold); margin-bottom: 12px; }\n          .setup-header h2 { \n            font-size: 28px; \n            margin-bottom: 4px;\n            font-family: 'Amiri', serif;\n          }\n          .setup-header h3 { font-size: 18px; margin-bottom: 8px; color: var(--gold); }\n          .setup-header p { color: var(--text-secondary); font-size: 14px; }\n          .setup-options {\n            background: var(--bg-surface);\n            padding: 20px;\n            border-radius: 16px;\n            margin-bottom: 20px;\n          }\n          .option-group {\n            margin-bottom: 20px;\n          }\n          .option-group:last-child { margin-bottom: 0; }\n          .option-group label {\n            display: block;\n            font-size: 14px;\n            font-weight: 600;\n            margin-bottom: 12px;\n          }\n          .round-selector {\n            display: flex;\n            gap: 10px;\n          }\n          .round-btn {\n            flex: 1;\n            padding: 14px;\n            background: var(--bg-surface-light);\n            border: 2px solid transparent;\n            border-radius: 12px;\n            color: var(--text-primary);\n            font-size: 18px;\n            font-weight: 700;\n            cursor: pointer;\n            transition: all 0.2s ease;\n          }\n          .round-btn.active {\n            background: var(--primary);\n            border-color: var(--gold);\n            color: var(--gold);\n          }\n          .length-selector {\n            display: grid;\n            grid-template-columns: 1fr 1fr;\n            gap: 12px;\n          }\n          .length-btn {\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            padding: 16px;\n            background: var(--bg-surface-light);\n            border: 2px solid transparent;\n            border-radius: 12px;\n            cursor: pointer;\n            transition: all 0.2s ease;\n          }\n          .length-btn.active {\n            background: var(--primary);\n            border-color: var(--gold);\n          }\n          .length-btn svg { color: var(--text-muted); margin-bottom: 8px; }\n          .length-btn.active svg { color: var(--gold); }\n          .length-label {\n            font-size: 14px;\n            font-weight: 600;\n            color: var(--text-primary);\n          }\n          .length-desc {\n            font-size: 11px;\n            color: var(--text-muted);\n            margin-top: 4px;\n          }\n          .length-btn.active .length-label { color: var(--gold); }\n          .quiz-info {\n            display: flex;\n            gap: 12px;\n            padding: 16px;\n            background: rgba(212,175,55,0.1);\n            border-radius: 12px;\n            font-size: 12px;\n            color: var(--text-secondary);\n          }\n          .quiz-info svg { flex-shrink: 0; color: var(--gold); margin-top: 2px; }\n          .quiz-info strong { color: var(--gold); display: block; margin-bottom: 6px; }\n          .quiz-info p { margin: 4px 0; line-height: 1.4; }\n          .start-quiz-btn {\n            width: 100%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            gap: 10px;\n            padding: 18px;\n            background: var(--gold);\n            border: none;\n            border-radius: 14px;\n            color: var(--bg-primary);\n            font-size: 16px;\n            font-weight: 700;\n            cursor: pointer;\n          }\n          .start-quiz-btn:disabled {\n            opacity: 0.7;\n            cursor: not-allowed;\n          }\n          .quiz-history {\n            margin-top: 24px;\n            background: var(--bg-surface);\n            padding: 16px;\n            border-radius: 14px;\n          }\n          .quiz-history h3 {\n            font-size: 14px;\n            color: var(--text-secondary);\n            margin-bottom: 12px;\n          }\n          .history-list { display: flex; flex-direction: column; gap: 8px; }\n          .history-item {\n            display: flex;\n            align-items: center;\n            gap: 12px;\n            padding: 10px 12px;\n            background: var(--bg-surface-light);\n            border-radius: 10px;\n          }\n          .history-score {\n            font-size: 16px;\n            font-weight: 700;\n            color: var(--gold);\n            min-width: 50px;\n          }\n          .history-detail { font-size: 13px; color: var(--text-muted); flex: 1; }\n          .history-date { font-size: 11px; color: var(--text-muted); }\n          @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }\n        `\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 394,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 313,\n      columnNumber: 7\n    }, this);\n  }\n\n  // Quiz Screen\n  if (mode === 'quiz' && questions.length > 0) {\n    const question = questions[currentQuestion];\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"quiz-active\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"quiz-progress\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"Round \", currentQuestion + 1, \" / \", questions.length]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 553,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"progress-bar\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"progress-fill\",\n            style: {\n              width: `${(currentQuestion + 1) / questions.length * 100}%`\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 555,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 554,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"score-display\",\n          children: [score.correct, \" \\u2713\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 557,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 552,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"question-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"question-meta\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"juz-badge\",\n            children: [\"Juz \", question.juz]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 562,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"surah-badge\",\n            children: question.surahName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 563,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 561,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"question-prompt\",\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Starting Point:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 567,\n            columnNumber: 13\n          }, this), \" Recite what comes AFTER this ayah\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 566,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"starting-ayah arabic\",\n          children: question.startingAyah\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 570,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"ayah-ref\",\n          children: [question.surahArabic, \" (\", question.surahName, \") - Ayah \", question.ayahNum]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 574,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"recitation-target\",\n          children: [/*#__PURE__*/_jsxDEV(ChevronRight, {\n            size: 16\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 579,\n            columnNumber: 13\n          }, this), \"Continue for ~\", Math.round(AYAHS_PER_PAGE * quizConfig.recitationLength), \" ayahs (\", quizConfig.recitationLength, \" page\", quizConfig.recitationLength > 1 ? 's' : '', \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 578,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 560,\n        columnNumber: 9\n      }, this), !showAnswer && /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"reveal-btn\",\n        onClick: () => fetchContinuation(question),\n        disabled: loadingContinuation,\n        children: loadingContinuation ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: \"Loading...\"\n        }, void 0, false) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(Eye, {\n            size: 18\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 594,\n            columnNumber: 17\n          }, this), \" Show What Comes After\"]\n        }, void 0, true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 586,\n        columnNumber: 11\n      }, this), showAnswer && continuationAyahs.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"answer-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: [\"What comes AFTER (Ayah \", question.ayahNum + 1, \" onwards):\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 602,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"continuation-ayahs\",\n          children: continuationAyahs.map((ayah, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"continuation-ayah\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"ayah-num\",\n              children: ayah.num\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 606,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"ayah-text arabic\",\n              children: ayah.text\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 607,\n              columnNumber: 19\n            }, this)]\n          }, idx, true, {\n            fileName: _jsxFileName,\n            lineNumber: 605,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 603,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 601,\n        columnNumber: 11\n      }, this), showAnswer && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"answer-buttons\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"answer-btn wrong\",\n          onClick: () => handleAnswer(false),\n          children: [/*#__PURE__*/_jsxDEV(X, {\n            size: 18\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 618,\n            columnNumber: 15\n          }, this), \"Made Mistakes\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 617,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"answer-btn correct\",\n          onClick: () => handleAnswer(true),\n          children: [/*#__PURE__*/_jsxDEV(Check, {\n            size: 18\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 622,\n            columnNumber: 15\n          }, this), \"Recited Correctly\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 621,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 616,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"style\", {\n        children: `\n          .quiz-active { animation: fadeIn 0.3s ease-out; }\n          .quiz-progress {\n            display: flex;\n            align-items: center;\n            gap: 12px;\n            margin-bottom: 20px;\n            font-size: 13px;\n            color: var(--text-muted);\n          }\n          .progress-bar {\n            flex: 1;\n            height: 6px;\n            background: var(--bg-surface);\n            border-radius: 3px;\n            overflow: hidden;\n          }\n          .progress-fill {\n            height: 100%;\n            background: var(--gold);\n            transition: width 0.3s ease;\n          }\n          .score-display {\n            color: var(--success);\n            font-weight: 600;\n          }\n          .question-card {\n            background: var(--bg-surface);\n            border-radius: 20px;\n            padding: 24px;\n            margin-bottom: 16px;\n            text-align: center;\n          }\n          .question-meta {\n            display: flex;\n            justify-content: center;\n            gap: 10px;\n            margin-bottom: 16px;\n          }\n          .juz-badge, .surah-badge {\n            padding: 6px 14px;\n            border-radius: 20px;\n            font-size: 12px;\n            font-weight: 600;\n          }\n          .juz-badge {\n            background: var(--primary);\n            color: var(--gold);\n          }\n          .surah-badge {\n            background: var(--bg-surface-light);\n            color: var(--text-secondary);\n          }\n          .question-prompt {\n            font-size: 14px;\n            color: var(--text-secondary);\n            margin-bottom: 20px;\n          }\n          .starting-ayah {\n            font-size: 26px;\n            line-height: 2.2;\n            margin-bottom: 16px;\n            padding: 20px;\n            background: var(--bg-surface-light);\n            border-radius: 16px;\n            border-left: 4px solid var(--gold);\n          }\n          .ayah-ref {\n            font-size: 12px;\n            color: var(--text-muted);\n            display: block;\n            margin-bottom: 12px;\n          }\n          .recitation-target {\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            gap: 6px;\n            padding: 10px;\n            background: rgba(212,175,55,0.1);\n            border-radius: 10px;\n            font-size: 12px;\n            color: var(--gold);\n          }\n          .reveal-btn {\n            width: 100%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            gap: 8px;\n            padding: 16px;\n            background: var(--primary);\n            border: 2px solid var(--gold);\n            border-radius: 14px;\n            color: var(--gold);\n            font-size: 15px;\n            font-weight: 600;\n            cursor: pointer;\n            margin-bottom: 16px;\n          }\n          .reveal-btn:disabled {\n            opacity: 0.7;\n            cursor: not-allowed;\n          }\n          .answer-section {\n            background: rgba(46,204,113,0.1);\n            border: 1px solid rgba(46,204,113,0.3);\n            border-radius: 16px;\n            padding: 20px;\n            margin-bottom: 16px;\n          }\n          .answer-section h4 {\n            font-size: 13px;\n            color: var(--success);\n            margin-bottom: 16px;\n            text-align: center;\n          }\n          .continuation-ayahs {\n            max-height: 400px;\n            overflow-y: auto;\n          }\n          .continuation-ayah {\n            display: flex;\n            gap: 12px;\n            padding: 12px;\n            margin-bottom: 8px;\n            background: var(--bg-surface);\n            border-radius: 10px;\n          }\n          .ayah-num {\n            flex-shrink: 0;\n            width: 28px;\n            height: 28px;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            background: var(--primary);\n            color: var(--gold);\n            border-radius: 50%;\n            font-size: 11px;\n            font-weight: 600;\n          }\n          .ayah-text {\n            font-size: 20px;\n            line-height: 2;\n            text-align: right;\n            flex: 1;\n          }\n          .answer-buttons {\n            display: grid;\n            grid-template-columns: 1fr 1fr;\n            gap: 12px;\n          }\n          .answer-btn {\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            gap: 8px;\n            padding: 16px;\n            border: none;\n            border-radius: 14px;\n            font-size: 14px;\n            font-weight: 600;\n            cursor: pointer;\n          }\n          .answer-btn.wrong {\n            background: rgba(231,76,60,0.2);\n            color: var(--error);\n          }\n          .answer-btn.correct {\n            background: var(--gold);\n            color: var(--bg-primary);\n          }\n          .arabic {\n            direction: rtl;\n            font-family: 'Amiri', 'Traditional Arabic', serif;\n          }\n        `\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 628,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 551,\n      columnNumber: 7\n    }, this);\n  }\n\n  // Results Screen\n  if (mode === 'results') {\n    const percentage = Math.round(score.correct / score.total * 100);\n    const {\n      emoji,\n      message,\n      color\n    } = getScoreMessage(percentage);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"quiz-results\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"results-header\",\n        style: {\n          background: `linear-gradient(135deg, ${color}20 0%, ${color}05 100%)`\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"result-emoji\",\n          children: emoji\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 818,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: [percentage, \"%\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 819,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"result-message\",\n          children: message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 820,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"score-breakdown\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: [score.correct, \" correct\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 822,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"\\u2022\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 823,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [score.total - score.correct, \" incorrect\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 824,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"\\u2022\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 825,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [score.total, \" total\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 826,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 821,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 817,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"performance-tips\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Tips for Improvement\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 831,\n          columnNumber: 11\n        }, this), percentage < 50 && /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Focus on reviewing your memorized sections more frequently. Use the Review tab to strengthen weak areas.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 833,\n          columnNumber: 13\n        }, this), percentage >= 50 && percentage < 70 && /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Good progress! Try connecting ayahs across page boundaries to improve flow.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 836,\n          columnNumber: 13\n        }, this), percentage >= 70 && percentage < 90 && /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Great work! Challenge yourself with longer recitation lengths.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 839,\n          columnNumber: 13\n        }, this), percentage >= 90 && /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Excellent mastery! Keep up your daily review to maintain this level.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 842,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 830,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"results-actions\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-secondary\",\n          onClick: () => setMode('setup'),\n          children: [/*#__PURE__*/_jsxDEV(RotateCcw, {\n            size: 18\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 848,\n            columnNumber: 13\n          }, this), \" New Quiz\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 847,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-primary\",\n          onClick: generateQuestions,\n          children: [/*#__PURE__*/_jsxDEV(Zap, {\n            size: 18\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 851,\n            columnNumber: 13\n          }, this), \" Try Again\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 850,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 846,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"style\", {\n        children: `\n          .quiz-results { animation: fadeIn 0.3s ease-out; }\n          .results-header {\n            text-align: center;\n            padding: 40px 20px;\n            border-radius: 20px;\n            margin-bottom: 20px;\n            border: 1px solid rgba(255,255,255,0.1);\n          }\n          .result-emoji { font-size: 60px; display: block; margin-bottom: 16px; }\n          .results-header h2 {\n            font-size: 56px;\n            font-weight: 700;\n            font-family: 'Space Grotesk', sans-serif;\n            margin-bottom: 8px;\n          }\n          .result-message {\n            font-size: 18px;\n            color: var(--text-secondary);\n            margin-bottom: 16px;\n          }\n          .score-breakdown {\n            display: flex;\n            justify-content: center;\n            gap: 12px;\n            font-size: 13px;\n            color: var(--text-muted);\n          }\n          .performance-tips {\n            background: var(--bg-surface);\n            padding: 20px;\n            border-radius: 16px;\n            margin-bottom: 20px;\n          }\n          .performance-tips h3 {\n            font-size: 14px;\n            color: var(--gold);\n            margin-bottom: 10px;\n          }\n          .performance-tips p {\n            font-size: 14px;\n            color: var(--text-secondary);\n            line-height: 1.6;\n          }\n          .results-actions {\n            display: grid;\n            grid-template-columns: 1fr 1fr;\n            gap: 12px;\n          }\n          .btn {\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            gap: 8px;\n            padding: 16px;\n            border: none;\n            border-radius: 14px;\n            font-size: 14px;\n            font-weight: 600;\n            cursor: pointer;\n          }\n          .btn-primary {\n            background: var(--gold);\n            color: var(--bg-primary);\n          }\n          .btn-secondary {\n            background: var(--bg-surface);\n            color: var(--text-primary);\n          }\n        `\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 855,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 816,\n      columnNumber: 7\n    }, this);\n  }\n  return null;\n}\n_s(QuranQuiz, \"M4twdjmrBDAjLsnmS/rW7PSVwo8=\", false, function () {\n  return [useAuth];\n});\n_c = QuranQuiz;\nexport default QuranQuiz;\nvar _c;\n$RefreshReg$(_c, \"QuranQuiz\");","map":{"version":3,"names":["React","useState","useEffect","useAuth","doc","getDoc","setDoc","db","Play","Trophy","ChevronRight","Check","X","AlertCircle","Eye","EyeOff","RotateCcw","Zap","Book","jsxDEV","_jsxDEV","Fragment","_Fragment","SURAH_DATA","juz","name","arabicName","ayahs","AYAHS_PER_PAGE","QuranQuiz","_s","user","mode","setMode","quizConfig","setQuizConfig","numRounds","recitationLength","questions","setQuestions","currentQuestion","setCurrentQuestion","showAnswer","setShowAnswer","score","setScore","correct","total","loading","setLoading","quizHistory","setQuizHistory","continuationAyahs","setContinuationAyahs","loadingContinuation","setLoadingContinuation","loadQuizHistory","docRef","uid","docSnap","exists","data","history","error","console","saveQuizResult","result","newHistory","slice","updatedAt","Date","toISOString","generateQuestions","generatedQuestions","usedPositions","Set","i","targetJuz","Math","floor","random","surahsInJuz","Object","entries","filter","_","info","Array","isArray","includes","length","surahNum","surahInfo","surah","parseInt","maxStartAyah","max","ayahNum","positionKey","attempts","has","add","response","fetch","json","code","push","id","surahName","surahArabic","totalAyahs","startingAyah","text","sort","fetchContinuation","question","numAyahs","round","nextAyah","num","handleAnswer","isCorrect","newScore","prev","finalResult","percentage","date","getScoreMessage","emoji","message","color","className","children","size","fileName","_jsxFileName","lineNumber","columnNumber","map","onClick","p","disabled","reverse","toLocaleDateString","style","width","ayah","idx","background","_c","$RefreshReg$"],"sources":["/Users/abdullahinor/Desktop/Qawwam/client/src/components/QuranQuiz.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useAuth } from '../context/AuthContext';\nimport { doc, getDoc, setDoc } from 'firebase/firestore';\nimport { db } from '../config/firebase';\nimport { \n  Play, Trophy, ChevronRight, Check, X, \n  AlertCircle, Eye, EyeOff, RotateCcw, Zap, Book\n} from 'lucide-react';\n\n// All 114 Surahs with Juz information\nconst SURAH_DATA = {\n  1: { juz: 1, name: 'Al-Fatihah', arabicName: 'Ø§Ù„ÙØ§ØªØ­Ø©', ayahs: 7 },\n  2: { juz: [1,2,3], name: 'Al-Baqarah', arabicName: 'Ø§Ù„Ø¨Ù‚Ø±Ø©', ayahs: 286 },\n  3: { juz: [3,4], name: 'Aal-E-Imran', arabicName: 'Ø¢Ù„ Ø¹Ù…Ø±Ø§Ù†', ayahs: 200 },\n  4: { juz: [4,5,6], name: 'An-Nisa', arabicName: 'Ø§Ù„Ù†Ø³Ø§Ø¡', ayahs: 176 },\n  5: { juz: 6, name: 'Al-Maidah', arabicName: 'Ø§Ù„Ù…Ø§Ø¦Ø¯Ø©', ayahs: 120 },\n  6: { juz: [7,8], name: 'Al-Anam', arabicName: 'Ø§Ù„Ø£Ù†Ø¹Ø§Ù…', ayahs: 165 },\n  7: { juz: [8,9], name: 'Al-Araf', arabicName: 'Ø§Ù„Ø£Ø¹Ø±Ø§Ù', ayahs: 206 },\n  8: { juz: [9,10], name: 'Al-Anfal', arabicName: 'Ø§Ù„Ø£Ù†ÙØ§Ù„', ayahs: 75 },\n  9: { juz: [10,11], name: 'At-Tawbah', arabicName: 'Ø§Ù„ØªÙˆØ¨Ø©', ayahs: 129 },\n  10: { juz: 11, name: 'Yunus', arabicName: 'ÙŠÙˆÙ†Ø³', ayahs: 109 },\n  11: { juz: [11,12], name: 'Hud', arabicName: 'Ù‡ÙˆØ¯', ayahs: 123 },\n  12: { juz: [12,13], name: 'Yusuf', arabicName: 'ÙŠÙˆØ³Ù', ayahs: 111 },\n  13: { juz: 13, name: \"Ar-Ra'd\", arabicName: 'Ø§Ù„Ø±Ø¹Ø¯', ayahs: 43 },\n  14: { juz: 13, name: 'Ibrahim', arabicName: 'Ø¥Ø¨Ø±Ø§Ù‡ÙŠÙ…', ayahs: 52 },\n  15: { juz: 14, name: 'Al-Hijr', arabicName: 'Ø§Ù„Ø­Ø¬Ø±', ayahs: 99 },\n  16: { juz: 14, name: 'An-Nahl', arabicName: 'Ø§Ù„Ù†Ø­Ù„', ayahs: 128 },\n  17: { juz: 15, name: 'Al-Isra', arabicName: 'Ø§Ù„Ø¥Ø³Ø±Ø§Ø¡', ayahs: 111 },\n  18: { juz: [15,16], name: 'Al-Kahf', arabicName: 'Ø§Ù„ÙƒÙ‡Ù', ayahs: 110 },\n  19: { juz: 16, name: 'Maryam', arabicName: 'Ù…Ø±ÙŠÙ…', ayahs: 98 },\n  20: { juz: 16, name: 'Taha', arabicName: 'Ø·Ù‡', ayahs: 135 },\n  21: { juz: 17, name: 'Al-Anbiya', arabicName: 'Ø§Ù„Ø£Ù†Ø¨ÙŠØ§Ø¡', ayahs: 112 },\n  22: { juz: 17, name: 'Al-Hajj', arabicName: 'Ø§Ù„Ø­Ø¬', ayahs: 78 },\n  23: { juz: 18, name: \"Al-Mu'minun\", arabicName: 'Ø§Ù„Ù…Ø¤Ù…Ù†ÙˆÙ†', ayahs: 118 },\n  24: { juz: 18, name: 'An-Nur', arabicName: 'Ø§Ù„Ù†ÙˆØ±', ayahs: 64 },\n  25: { juz: [18,19], name: 'Al-Furqan', arabicName: 'Ø§Ù„ÙØ±Ù‚Ø§Ù†', ayahs: 77 },\n  26: { juz: 19, name: 'Ash-Shuara', arabicName: 'Ø§Ù„Ø´Ø¹Ø±Ø§Ø¡', ayahs: 227 },\n  27: { juz: [19,20], name: 'An-Naml', arabicName: 'Ø§Ù„Ù†Ù…Ù„', ayahs: 93 },\n  28: { juz: 20, name: 'Al-Qasas', arabicName: 'Ø§Ù„Ù‚ØµØµ', ayahs: 88 },\n  29: { juz: [20,21], name: 'Al-Ankabut', arabicName: 'Ø§Ù„Ø¹Ù†ÙƒØ¨ÙˆØª', ayahs: 69 },\n  30: { juz: 21, name: 'Ar-Rum', arabicName: 'Ø§Ù„Ø±ÙˆÙ…', ayahs: 60 },\n  31: { juz: 21, name: 'Luqman', arabicName: 'Ù„Ù‚Ù…Ø§Ù†', ayahs: 34 },\n  32: { juz: 21, name: 'As-Sajdah', arabicName: 'Ø§Ù„Ø³Ø¬Ø¯Ø©', ayahs: 30 },\n  33: { juz: [21,22], name: 'Al-Ahzab', arabicName: 'Ø§Ù„Ø£Ø­Ø²Ø§Ø¨', ayahs: 73 },\n  34: { juz: 22, name: 'Saba', arabicName: 'Ø³Ø¨Ø£', ayahs: 54 },\n  35: { juz: 22, name: 'Fatir', arabicName: 'ÙØ§Ø·Ø±', ayahs: 45 },\n  36: { juz: [22,23], name: 'Ya-Sin', arabicName: 'ÙŠØ³', ayahs: 83 },\n  37: { juz: 23, name: 'As-Saffat', arabicName: 'Ø§Ù„ØµØ§ÙØ§Øª', ayahs: 182 },\n  38: { juz: 23, name: 'Sad', arabicName: 'Øµ', ayahs: 88 },\n  39: { juz: [23,24], name: 'Az-Zumar', arabicName: 'Ø§Ù„Ø²Ù…Ø±', ayahs: 75 },\n  40: { juz: 24, name: 'Ghafir', arabicName: 'ØºØ§ÙØ±', ayahs: 85 },\n  41: { juz: [24,25], name: 'Fussilat', arabicName: 'ÙØµÙ„Øª', ayahs: 54 },\n  42: { juz: 25, name: 'Ash-Shura', arabicName: 'Ø§Ù„Ø´ÙˆØ±Ù‰', ayahs: 53 },\n  43: { juz: 25, name: 'Az-Zukhruf', arabicName: 'Ø§Ù„Ø²Ø®Ø±Ù', ayahs: 89 },\n  44: { juz: 25, name: 'Ad-Dukhan', arabicName: 'Ø§Ù„Ø¯Ø®Ø§Ù†', ayahs: 59 },\n  45: { juz: 25, name: 'Al-Jathiyah', arabicName: 'Ø§Ù„Ø¬Ø§Ø«ÙŠØ©', ayahs: 37 },\n  46: { juz: 26, name: 'Al-Ahqaf', arabicName: 'Ø§Ù„Ø£Ø­Ù‚Ø§Ù', ayahs: 35 },\n  47: { juz: 26, name: 'Muhammad', arabicName: 'Ù…Ø­Ù…Ø¯', ayahs: 38 },\n  48: { juz: 26, name: 'Al-Fath', arabicName: 'Ø§Ù„ÙØªØ­', ayahs: 29 },\n  49: { juz: 26, name: 'Al-Hujurat', arabicName: 'Ø§Ù„Ø­Ø¬Ø±Ø§Øª', ayahs: 18 },\n  50: { juz: 26, name: 'Qaf', arabicName: 'Ù‚', ayahs: 45 },\n  51: { juz: [26,27], name: 'Adh-Dhariyat', arabicName: 'Ø§Ù„Ø°Ø§Ø±ÙŠØ§Øª', ayahs: 60 },\n  52: { juz: 27, name: 'At-Tur', arabicName: 'Ø§Ù„Ø·ÙˆØ±', ayahs: 49 },\n  53: { juz: 27, name: 'An-Najm', arabicName: 'Ø§Ù„Ù†Ø¬Ù…', ayahs: 62 },\n  54: { juz: 27, name: 'Al-Qamar', arabicName: 'Ø§Ù„Ù‚Ù…Ø±', ayahs: 55 },\n  55: { juz: 27, name: 'Ar-Rahman', arabicName: 'Ø§Ù„Ø±Ø­Ù…Ù†', ayahs: 78 },\n  56: { juz: 27, name: 'Al-Waqia', arabicName: 'Ø§Ù„ÙˆØ§Ù‚Ø¹Ø©', ayahs: 96 },\n  57: { juz: 27, name: 'Al-Hadid', arabicName: 'Ø§Ù„Ø­Ø¯ÙŠØ¯', ayahs: 29 },\n  58: { juz: 28, name: 'Al-Mujadila', arabicName: 'Ø§Ù„Ù…Ø¬Ø§Ø¯Ù„Ø©', ayahs: 22 },\n  59: { juz: 28, name: 'Al-Hashr', arabicName: 'Ø§Ù„Ø­Ø´Ø±', ayahs: 24 },\n  60: { juz: 28, name: 'Al-Mumtahina', arabicName: 'Ø§Ù„Ù…Ù…ØªØ­Ù†Ø©', ayahs: 13 },\n  61: { juz: 28, name: 'As-Saff', arabicName: 'Ø§Ù„ØµÙ', ayahs: 14 },\n  62: { juz: 28, name: 'Al-Jumuah', arabicName: 'Ø§Ù„Ø¬Ù…Ø¹Ø©', ayahs: 11 },\n  63: { juz: 28, name: 'Al-Munafiqun', arabicName: 'Ø§Ù„Ù…Ù†Ø§ÙÙ‚ÙˆÙ†', ayahs: 11 },\n  64: { juz: 28, name: 'At-Taghabun', arabicName: 'Ø§Ù„ØªØºØ§Ø¨Ù†', ayahs: 18 },\n  65: { juz: 28, name: 'At-Talaq', arabicName: 'Ø§Ù„Ø·Ù„Ø§Ù‚', ayahs: 12 },\n  66: { juz: 28, name: 'At-Tahrim', arabicName: 'Ø§Ù„ØªØ­Ø±ÙŠÙ…', ayahs: 12 },\n  67: { juz: 29, name: 'Al-Mulk', arabicName: 'Ø§Ù„Ù…Ù„Ùƒ', ayahs: 30 },\n  68: { juz: 29, name: 'Al-Qalam', arabicName: 'Ø§Ù„Ù‚Ù„Ù…', ayahs: 52 },\n  69: { juz: 29, name: 'Al-Haqqah', arabicName: 'Ø§Ù„Ø­Ø§Ù‚Ø©', ayahs: 52 },\n  70: { juz: 29, name: 'Al-Maarij', arabicName: 'Ø§Ù„Ù…Ø¹Ø§Ø±Ø¬', ayahs: 44 },\n  71: { juz: 29, name: 'Nuh', arabicName: 'Ù†ÙˆØ­', ayahs: 28 },\n  72: { juz: 29, name: 'Al-Jinn', arabicName: 'Ø§Ù„Ø¬Ù†', ayahs: 28 },\n  73: { juz: 29, name: 'Al-Muzzammil', arabicName: 'Ø§Ù„Ù…Ø²Ù…Ù„', ayahs: 20 },\n  74: { juz: 29, name: 'Al-Muddaththir', arabicName: 'Ø§Ù„Ù…Ø¯Ø«Ø±', ayahs: 56 },\n  75: { juz: 29, name: 'Al-Qiyamah', arabicName: 'Ø§Ù„Ù‚ÙŠØ§Ù…Ø©', ayahs: 40 },\n  76: { juz: 29, name: 'Al-Insan', arabicName: 'Ø§Ù„Ø¥Ù†Ø³Ø§Ù†', ayahs: 31 },\n  77: { juz: 29, name: 'Al-Mursalat', arabicName: 'Ø§Ù„Ù…Ø±Ø³Ù„Ø§Øª', ayahs: 50 },\n  78: { juz: 30, name: 'An-Naba', arabicName: 'Ø§Ù„Ù†Ø¨Ø£', ayahs: 40 },\n  79: { juz: 30, name: 'An-Naziat', arabicName: 'Ø§Ù„Ù†Ø§Ø²Ø¹Ø§Øª', ayahs: 46 },\n  80: { juz: 30, name: 'Abasa', arabicName: 'Ø¹Ø¨Ø³', ayahs: 42 },\n  81: { juz: 30, name: 'At-Takwir', arabicName: 'Ø§Ù„ØªÙƒÙˆÙŠØ±', ayahs: 29 },\n  82: { juz: 30, name: 'Al-Infitar', arabicName: 'Ø§Ù„Ø§Ù†ÙØ·Ø§Ø±', ayahs: 19 },\n  83: { juz: 30, name: 'Al-Mutaffifin', arabicName: 'Ø§Ù„Ù…Ø·ÙÙÙŠÙ†', ayahs: 36 },\n  84: { juz: 30, name: 'Al-Inshiqaq', arabicName: 'Ø§Ù„Ø§Ù†Ø´Ù‚Ø§Ù‚', ayahs: 25 },\n  85: { juz: 30, name: 'Al-Buruj', arabicName: 'Ø§Ù„Ø¨Ø±ÙˆØ¬', ayahs: 22 },\n  86: { juz: 30, name: 'At-Tariq', arabicName: 'Ø§Ù„Ø·Ø§Ø±Ù‚', ayahs: 17 },\n  87: { juz: 30, name: 'Al-Ala', arabicName: 'Ø§Ù„Ø£Ø¹Ù„Ù‰', ayahs: 19 },\n  88: { juz: 30, name: 'Al-Ghashiyah', arabicName: 'Ø§Ù„ØºØ§Ø´ÙŠØ©', ayahs: 26 },\n  89: { juz: 30, name: 'Al-Fajr', arabicName: 'Ø§Ù„ÙØ¬Ø±', ayahs: 30 },\n  90: { juz: 30, name: 'Al-Balad', arabicName: 'Ø§Ù„Ø¨Ù„Ø¯', ayahs: 20 },\n  91: { juz: 30, name: 'Ash-Shams', arabicName: 'Ø§Ù„Ø´Ù…Ø³', ayahs: 15 },\n  92: { juz: 30, name: 'Al-Layl', arabicName: 'Ø§Ù„Ù„ÙŠÙ„', ayahs: 21 },\n  93: { juz: 30, name: 'Ad-Duha', arabicName: 'Ø§Ù„Ø¶Ø­Ù‰', ayahs: 11 },\n  94: { juz: 30, name: 'Ash-Sharh', arabicName: 'Ø§Ù„Ø´Ø±Ø­', ayahs: 8 },\n  95: { juz: 30, name: 'At-Tin', arabicName: 'Ø§Ù„ØªÙŠÙ†', ayahs: 8 },\n  96: { juz: 30, name: 'Al-Alaq', arabicName: 'Ø§Ù„Ø¹Ù„Ù‚', ayahs: 19 },\n  97: { juz: 30, name: 'Al-Qadr', arabicName: 'Ø§Ù„Ù‚Ø¯Ø±', ayahs: 5 },\n  98: { juz: 30, name: 'Al-Bayyinah', arabicName: 'Ø§Ù„Ø¨ÙŠÙ†Ø©', ayahs: 8 },\n  99: { juz: 30, name: 'Az-Zalzalah', arabicName: 'Ø§Ù„Ø²Ù„Ø²Ù„Ø©', ayahs: 8 },\n  100: { juz: 30, name: 'Al-Adiyat', arabicName: 'Ø§Ù„Ø¹Ø§Ø¯ÙŠØ§Øª', ayahs: 11 },\n  101: { juz: 30, name: 'Al-Qariah', arabicName: 'Ø§Ù„Ù‚Ø§Ø±Ø¹Ø©', ayahs: 11 },\n  102: { juz: 30, name: 'At-Takathur', arabicName: 'Ø§Ù„ØªÙƒØ§Ø«Ø±', ayahs: 8 },\n  103: { juz: 30, name: 'Al-Asr', arabicName: 'Ø§Ù„Ø¹ØµØ±', ayahs: 3 },\n  104: { juz: 30, name: 'Al-Humazah', arabicName: 'Ø§Ù„Ù‡Ù…Ø²Ø©', ayahs: 9 },\n  105: { juz: 30, name: 'Al-Fil', arabicName: 'Ø§Ù„ÙÙŠÙ„', ayahs: 5 },\n  106: { juz: 30, name: 'Quraysh', arabicName: 'Ù‚Ø±ÙŠØ´', ayahs: 4 },\n  107: { juz: 30, name: 'Al-Maun', arabicName: 'Ø§Ù„Ù…Ø§Ø¹ÙˆÙ†', ayahs: 7 },\n  108: { juz: 30, name: 'Al-Kawthar', arabicName: 'Ø§Ù„ÙƒÙˆØ«Ø±', ayahs: 3 },\n  109: { juz: 30, name: 'Al-Kafirun', arabicName: 'Ø§Ù„ÙƒØ§ÙØ±ÙˆÙ†', ayahs: 6 },\n  110: { juz: 30, name: 'An-Nasr', arabicName: 'Ø§Ù„Ù†ØµØ±', ayahs: 3 },\n  111: { juz: 30, name: 'Al-Masad', arabicName: 'Ø§Ù„Ù…Ø³Ø¯', ayahs: 5 },\n  112: { juz: 30, name: 'Al-Ikhlas', arabicName: 'Ø§Ù„Ø¥Ø®Ù„Ø§Øµ', ayahs: 4 },\n  113: { juz: 30, name: 'Al-Falaq', arabicName: 'Ø§Ù„ÙÙ„Ù‚', ayahs: 5 },\n  114: { juz: 30, name: 'An-Nas', arabicName: 'Ø§Ù„Ù†Ø§Ø³', ayahs: 6 },\n};\n\n// Number of ayahs per page (~15 ayahs = 1 page)\nconst AYAHS_PER_PAGE = 15;\n\nfunction QuranQuiz() {\n  const { user } = useAuth();\n  \n  const [mode, setMode] = useState('setup'); // setup, quiz, reciting, results\n  const [quizConfig, setQuizConfig] = useState({\n    numRounds: 5,\n    recitationLength: 1, // 1 or 1.5 pages\n  });\n  \n  const [questions, setQuestions] = useState([]);\n  const [currentQuestion, setCurrentQuestion] = useState(0);\n  const [showAnswer, setShowAnswer] = useState(false);\n  const [score, setScore] = useState({ correct: 0, total: 0 });\n  const [loading, setLoading] = useState(false);\n  const [quizHistory, setQuizHistory] = useState([]);\n  const [continuationAyahs, setContinuationAyahs] = useState([]);\n  const [loadingContinuation, setLoadingContinuation] = useState(false);\n\n  useEffect(() => {\n    if (user) {\n      loadQuizHistory();\n    }\n  }, [user]);\n\n  const loadQuizHistory = async () => {\n    try {\n      const docRef = doc(db, 'users', user.uid, 'quran', 'quiz');\n      const docSnap = await getDoc(docRef);\n      if (docSnap.exists()) {\n        setQuizHistory(docSnap.data().history || []);\n      }\n    } catch (error) {\n      console.error('Error loading quiz history:', error);\n    }\n  };\n\n  const saveQuizResult = async (result) => {\n    try {\n      const docRef = doc(db, 'users', user.uid, 'quran', 'quiz');\n      const newHistory = [...quizHistory, result].slice(-50);\n      await setDoc(docRef, { history: newHistory, updatedAt: new Date().toISOString() });\n      setQuizHistory(newHistory);\n    } catch (error) {\n      console.error('Error saving quiz result:', error);\n    }\n  };\n\n  // Generate random starting points from ALL 30 Juz\n  const generateQuestions = async () => {\n    setLoading(true);\n    const generatedQuestions = [];\n    const usedPositions = new Set();\n    \n    for (let i = 0; i < quizConfig.numRounds; i++) {\n      // Pick a random Juz (1-30)\n      const targetJuz = Math.floor(Math.random() * 30) + 1;\n      \n      // Find surahs in this Juz\n      const surahsInJuz = Object.entries(SURAH_DATA).filter(([_, info]) => {\n        const juz = info.juz;\n        if (Array.isArray(juz)) return juz.includes(targetJuz);\n        return juz === targetJuz;\n      });\n      \n      if (surahsInJuz.length === 0) continue;\n      \n      // Pick random surah from this Juz\n      const [surahNum, surahInfo] = surahsInJuz[Math.floor(Math.random() * surahsInJuz.length)];\n      const surah = parseInt(surahNum);\n      \n      // Pick random ayah (not too close to the end to allow continuation)\n      const maxStartAyah = Math.max(1, surahInfo.ayahs - 20);\n      let ayahNum;\n      let positionKey;\n      let attempts = 0;\n      \n      do {\n        ayahNum = Math.floor(Math.random() * maxStartAyah) + 1;\n        positionKey = `${surah}:${ayahNum}`;\n        attempts++;\n      } while (usedPositions.has(positionKey) && attempts < 20);\n      \n      usedPositions.add(positionKey);\n      \n      // Fetch the starting ayah\n      try {\n        const response = await fetch(\n          `https://api.alquran.cloud/v1/ayah/${surah}:${ayahNum}/ar.alafasy`\n        );\n        const data = await response.json();\n        \n        if (data.code === 200) {\n          generatedQuestions.push({\n            id: i,\n            surah,\n            surahName: surahInfo.name,\n            surahArabic: surahInfo.arabicName,\n            juz: targetJuz,\n            ayahNum,\n            totalAyahs: surahInfo.ayahs,\n            startingAyah: data.data.text,\n          });\n        }\n      } catch (error) {\n        console.error('Error fetching ayah:', error);\n      }\n    }\n    \n    // Shuffle questions\n    generatedQuestions.sort(() => Math.random() - 0.5);\n    \n    setQuestions(generatedQuestions);\n    setCurrentQuestion(0);\n    setScore({ correct: 0, total: generatedQuestions.length });\n    setMode('quiz');\n    setLoading(false);\n  };\n\n  // Fetch continuation ayahs (what comes AFTER the starting ayah)\n  const fetchContinuation = async (question) => {\n    setLoadingContinuation(true);\n    const numAyahs = Math.round(AYAHS_PER_PAGE * quizConfig.recitationLength);\n    const ayahs = [];\n    \n    for (let i = 1; i <= numAyahs; i++) {\n      const nextAyah = question.ayahNum + i;\n      if (nextAyah > question.totalAyahs) break;\n      \n      try {\n        const response = await fetch(\n          `https://api.alquran.cloud/v1/ayah/${question.surah}:${nextAyah}/ar.alafasy`\n        );\n        const data = await response.json();\n        \n        if (data.code === 200) {\n          ayahs.push({\n            num: nextAyah,\n            text: data.data.text,\n          });\n        }\n      } catch (error) {\n        console.error('Error fetching ayah:', error);\n      }\n    }\n    \n    setContinuationAyahs(ayahs);\n    setLoadingContinuation(false);\n    setShowAnswer(true);\n  };\n\n  const handleAnswer = (isCorrect) => {\n    const newScore = isCorrect ? score.correct + 1 : score.correct;\n    setScore(prev => ({ ...prev, correct: newScore }));\n    setShowAnswer(false);\n    setContinuationAyahs([]);\n    \n    if (currentQuestion < questions.length - 1) {\n      setCurrentQuestion(currentQuestion + 1);\n    } else {\n      // Quiz complete\n      const finalResult = {\n        correct: newScore,\n        total: questions.length,\n        percentage: Math.round((newScore / questions.length) * 100),\n        date: new Date().toISOString(),\n        recitationLength: quizConfig.recitationLength,\n      };\n      saveQuizResult(finalResult);\n      setMode('results');\n    }\n  };\n\n  const getScoreMessage = (percentage) => {\n    if (percentage >= 90) return { emoji: 'ðŸ†', message: 'Ù…Ø§ Ø´Ø§Ø¡ Ø§Ù„Ù„Ù‡! Excellent Hafiz!', color: 'var(--gold)' };\n    if (percentage >= 70) return { emoji: 'â­', message: 'Great memorization!', color: 'var(--success)' };\n    if (percentage >= 50) return { emoji: 'ðŸ“–', message: 'Good effort. Keep reviewing!', color: 'var(--warning)' };\n    return { emoji: 'ðŸ’ª', message: 'Practice makes perfect!', color: 'var(--error)' };\n  };\n\n  // Setup Screen\n  if (mode === 'setup') {\n    return (\n      <div className=\"quiz-setup\">\n        <div className=\"setup-header\">\n          <Trophy size={40} className=\"trophy-icon\" />\n          <h2>Ù…Ø³Ø§Ø¨Ù‚Ø© Ø§Ù„Ù‚Ø±Ø¢Ù†</h2>\n          <h3>Musabaqah Quiz</h3>\n          <p>You'll be given an ayah. Recite what comes AFTER it.</p>\n        </div>\n\n        <div className=\"setup-options\">\n          <div className=\"option-group\">\n            <label>Number of Rounds</label>\n            <div className=\"round-selector\">\n              {[3, 5, 7, 10].map(num => (\n                <button\n                  key={num}\n                  className={`round-btn ${quizConfig.numRounds === num ? 'active' : ''}`}\n                  onClick={() => setQuizConfig(p => ({ ...p, numRounds: num }))}\n                >\n                  {num}\n                </button>\n              ))}\n            </div>\n          </div>\n\n          <div className=\"option-group\">\n            <label>Recitation Length</label>\n            <div className=\"length-selector\">\n              <button\n                className={`length-btn ${quizConfig.recitationLength === 1 ? 'active' : ''}`}\n                onClick={() => setQuizConfig(p => ({ ...p, recitationLength: 1 }))}\n              >\n                <Book size={20} />\n                <span className=\"length-label\">1 Page</span>\n                <span className=\"length-desc\">~15 ayahs</span>\n              </button>\n              <button\n                className={`length-btn ${quizConfig.recitationLength === 1.5 ? 'active' : ''}`}\n                onClick={() => setQuizConfig(p => ({ ...p, recitationLength: 1.5 }))}\n              >\n                <Book size={20} />\n                <span className=\"length-label\">1.5 Pages</span>\n                <span className=\"length-desc\">~22 ayahs</span>\n              </button>\n            </div>\n          </div>\n\n          <div className=\"quiz-info\">\n            <AlertCircle size={16} />\n            <div>\n              <strong>How it works:</strong>\n              <p>1. You see a starting ayah from anywhere in the Quran (Juz 1-30)</p>\n              <p>2. Recite what comes AFTER it (not including the ayah shown)</p>\n              <p>3. Click \"Show Answer\" to check your recitation</p>\n              <p>4. Mark as correct or incorrect</p>\n            </div>\n          </div>\n        </div>\n\n        <button className=\"start-quiz-btn\" onClick={generateQuestions} disabled={loading}>\n          {loading ? (\n            <>Preparing Questions...</>\n          ) : (\n            <><Play size={20} /> Start Musabaqah</>\n          )}\n        </button>\n\n        {quizHistory.length > 0 && (\n          <div className=\"quiz-history\">\n            <h3>Recent Scores</h3>\n            <div className=\"history-list\">\n              {quizHistory.slice(-5).reverse().map((result, i) => (\n                <div key={i} className=\"history-item\">\n                  <span className=\"history-score\">{result.percentage}%</span>\n                  <span className=\"history-detail\">{result.correct}/{result.total}</span>\n                  <span className=\"history-date\">{new Date(result.date).toLocaleDateString()}</span>\n                </div>\n              ))}\n            </div>\n          </div>\n        )}\n\n        <style>{`\n          .quiz-setup { animation: fadeIn 0.3s ease-out; }\n          .setup-header {\n            text-align: center;\n            padding: 30px 20px;\n            background: linear-gradient(135deg, var(--primary) 0%, #1a4a3a 100%);\n            border-radius: 20px;\n            margin-bottom: 20px;\n          }\n          .trophy-icon { color: var(--gold); margin-bottom: 12px; }\n          .setup-header h2 { \n            font-size: 28px; \n            margin-bottom: 4px;\n            font-family: 'Amiri', serif;\n          }\n          .setup-header h3 { font-size: 18px; margin-bottom: 8px; color: var(--gold); }\n          .setup-header p { color: var(--text-secondary); font-size: 14px; }\n          .setup-options {\n            background: var(--bg-surface);\n            padding: 20px;\n            border-radius: 16px;\n            margin-bottom: 20px;\n          }\n          .option-group {\n            margin-bottom: 20px;\n          }\n          .option-group:last-child { margin-bottom: 0; }\n          .option-group label {\n            display: block;\n            font-size: 14px;\n            font-weight: 600;\n            margin-bottom: 12px;\n          }\n          .round-selector {\n            display: flex;\n            gap: 10px;\n          }\n          .round-btn {\n            flex: 1;\n            padding: 14px;\n            background: var(--bg-surface-light);\n            border: 2px solid transparent;\n            border-radius: 12px;\n            color: var(--text-primary);\n            font-size: 18px;\n            font-weight: 700;\n            cursor: pointer;\n            transition: all 0.2s ease;\n          }\n          .round-btn.active {\n            background: var(--primary);\n            border-color: var(--gold);\n            color: var(--gold);\n          }\n          .length-selector {\n            display: grid;\n            grid-template-columns: 1fr 1fr;\n            gap: 12px;\n          }\n          .length-btn {\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            padding: 16px;\n            background: var(--bg-surface-light);\n            border: 2px solid transparent;\n            border-radius: 12px;\n            cursor: pointer;\n            transition: all 0.2s ease;\n          }\n          .length-btn.active {\n            background: var(--primary);\n            border-color: var(--gold);\n          }\n          .length-btn svg { color: var(--text-muted); margin-bottom: 8px; }\n          .length-btn.active svg { color: var(--gold); }\n          .length-label {\n            font-size: 14px;\n            font-weight: 600;\n            color: var(--text-primary);\n          }\n          .length-desc {\n            font-size: 11px;\n            color: var(--text-muted);\n            margin-top: 4px;\n          }\n          .length-btn.active .length-label { color: var(--gold); }\n          .quiz-info {\n            display: flex;\n            gap: 12px;\n            padding: 16px;\n            background: rgba(212,175,55,0.1);\n            border-radius: 12px;\n            font-size: 12px;\n            color: var(--text-secondary);\n          }\n          .quiz-info svg { flex-shrink: 0; color: var(--gold); margin-top: 2px; }\n          .quiz-info strong { color: var(--gold); display: block; margin-bottom: 6px; }\n          .quiz-info p { margin: 4px 0; line-height: 1.4; }\n          .start-quiz-btn {\n            width: 100%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            gap: 10px;\n            padding: 18px;\n            background: var(--gold);\n            border: none;\n            border-radius: 14px;\n            color: var(--bg-primary);\n            font-size: 16px;\n            font-weight: 700;\n            cursor: pointer;\n          }\n          .start-quiz-btn:disabled {\n            opacity: 0.7;\n            cursor: not-allowed;\n          }\n          .quiz-history {\n            margin-top: 24px;\n            background: var(--bg-surface);\n            padding: 16px;\n            border-radius: 14px;\n          }\n          .quiz-history h3 {\n            font-size: 14px;\n            color: var(--text-secondary);\n            margin-bottom: 12px;\n          }\n          .history-list { display: flex; flex-direction: column; gap: 8px; }\n          .history-item {\n            display: flex;\n            align-items: center;\n            gap: 12px;\n            padding: 10px 12px;\n            background: var(--bg-surface-light);\n            border-radius: 10px;\n          }\n          .history-score {\n            font-size: 16px;\n            font-weight: 700;\n            color: var(--gold);\n            min-width: 50px;\n          }\n          .history-detail { font-size: 13px; color: var(--text-muted); flex: 1; }\n          .history-date { font-size: 11px; color: var(--text-muted); }\n          @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }\n        `}</style>\n      </div>\n    );\n  }\n\n  // Quiz Screen\n  if (mode === 'quiz' && questions.length > 0) {\n    const question = questions[currentQuestion];\n    \n    return (\n      <div className=\"quiz-active\">\n        <div className=\"quiz-progress\">\n          <span>Round {currentQuestion + 1} / {questions.length}</span>\n          <div className=\"progress-bar\">\n            <div className=\"progress-fill\" style={{ width: `${((currentQuestion + 1) / questions.length) * 100}%` }} />\n          </div>\n          <span className=\"score-display\">{score.correct} âœ“</span>\n        </div>\n\n        <div className=\"question-card\">\n          <div className=\"question-meta\">\n            <span className=\"juz-badge\">Juz {question.juz}</span>\n            <span className=\"surah-badge\">{question.surahName}</span>\n          </div>\n          \n          <p className=\"question-prompt\">\n            <strong>Starting Point:</strong> Recite what comes AFTER this ayah\n          </p>\n          \n          <div className=\"starting-ayah arabic\">\n            {question.startingAyah}\n          </div>\n          \n          <span className=\"ayah-ref\">\n            {question.surahArabic} ({question.surahName}) - Ayah {question.ayahNum}\n          </span>\n          \n          <div className=\"recitation-target\">\n            <ChevronRight size={16} />\n            Continue for ~{Math.round(AYAHS_PER_PAGE * quizConfig.recitationLength)} ayahs ({quizConfig.recitationLength} page{quizConfig.recitationLength > 1 ? 's' : ''})\n          </div>\n        </div>\n\n        {/* Show Answer Button */}\n        {!showAnswer && (\n          <button \n            className=\"reveal-btn\"\n            onClick={() => fetchContinuation(question)}\n            disabled={loadingContinuation}\n          >\n            {loadingContinuation ? (\n              <>Loading...</>\n            ) : (\n              <><Eye size={18} /> Show What Comes After</>\n            )}\n          </button>\n        )}\n\n        {/* Answer Display */}\n        {showAnswer && continuationAyahs.length > 0 && (\n          <div className=\"answer-section\">\n            <h4>What comes AFTER (Ayah {question.ayahNum + 1} onwards):</h4>\n            <div className=\"continuation-ayahs\">\n              {continuationAyahs.map((ayah, idx) => (\n                <div key={idx} className=\"continuation-ayah\">\n                  <span className=\"ayah-num\">{ayah.num}</span>\n                  <span className=\"ayah-text arabic\">{ayah.text}</span>\n                </div>\n              ))}\n            </div>\n          </div>\n        )}\n\n        {/* Answer Buttons */}\n        {showAnswer && (\n          <div className=\"answer-buttons\">\n            <button className=\"answer-btn wrong\" onClick={() => handleAnswer(false)}>\n              <X size={18} />\n              Made Mistakes\n            </button>\n            <button className=\"answer-btn correct\" onClick={() => handleAnswer(true)}>\n              <Check size={18} />\n              Recited Correctly\n            </button>\n          </div>\n        )}\n\n        <style>{`\n          .quiz-active { animation: fadeIn 0.3s ease-out; }\n          .quiz-progress {\n            display: flex;\n            align-items: center;\n            gap: 12px;\n            margin-bottom: 20px;\n            font-size: 13px;\n            color: var(--text-muted);\n          }\n          .progress-bar {\n            flex: 1;\n            height: 6px;\n            background: var(--bg-surface);\n            border-radius: 3px;\n            overflow: hidden;\n          }\n          .progress-fill {\n            height: 100%;\n            background: var(--gold);\n            transition: width 0.3s ease;\n          }\n          .score-display {\n            color: var(--success);\n            font-weight: 600;\n          }\n          .question-card {\n            background: var(--bg-surface);\n            border-radius: 20px;\n            padding: 24px;\n            margin-bottom: 16px;\n            text-align: center;\n          }\n          .question-meta {\n            display: flex;\n            justify-content: center;\n            gap: 10px;\n            margin-bottom: 16px;\n          }\n          .juz-badge, .surah-badge {\n            padding: 6px 14px;\n            border-radius: 20px;\n            font-size: 12px;\n            font-weight: 600;\n          }\n          .juz-badge {\n            background: var(--primary);\n            color: var(--gold);\n          }\n          .surah-badge {\n            background: var(--bg-surface-light);\n            color: var(--text-secondary);\n          }\n          .question-prompt {\n            font-size: 14px;\n            color: var(--text-secondary);\n            margin-bottom: 20px;\n          }\n          .starting-ayah {\n            font-size: 26px;\n            line-height: 2.2;\n            margin-bottom: 16px;\n            padding: 20px;\n            background: var(--bg-surface-light);\n            border-radius: 16px;\n            border-left: 4px solid var(--gold);\n          }\n          .ayah-ref {\n            font-size: 12px;\n            color: var(--text-muted);\n            display: block;\n            margin-bottom: 12px;\n          }\n          .recitation-target {\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            gap: 6px;\n            padding: 10px;\n            background: rgba(212,175,55,0.1);\n            border-radius: 10px;\n            font-size: 12px;\n            color: var(--gold);\n          }\n          .reveal-btn {\n            width: 100%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            gap: 8px;\n            padding: 16px;\n            background: var(--primary);\n            border: 2px solid var(--gold);\n            border-radius: 14px;\n            color: var(--gold);\n            font-size: 15px;\n            font-weight: 600;\n            cursor: pointer;\n            margin-bottom: 16px;\n          }\n          .reveal-btn:disabled {\n            opacity: 0.7;\n            cursor: not-allowed;\n          }\n          .answer-section {\n            background: rgba(46,204,113,0.1);\n            border: 1px solid rgba(46,204,113,0.3);\n            border-radius: 16px;\n            padding: 20px;\n            margin-bottom: 16px;\n          }\n          .answer-section h4 {\n            font-size: 13px;\n            color: var(--success);\n            margin-bottom: 16px;\n            text-align: center;\n          }\n          .continuation-ayahs {\n            max-height: 400px;\n            overflow-y: auto;\n          }\n          .continuation-ayah {\n            display: flex;\n            gap: 12px;\n            padding: 12px;\n            margin-bottom: 8px;\n            background: var(--bg-surface);\n            border-radius: 10px;\n          }\n          .ayah-num {\n            flex-shrink: 0;\n            width: 28px;\n            height: 28px;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            background: var(--primary);\n            color: var(--gold);\n            border-radius: 50%;\n            font-size: 11px;\n            font-weight: 600;\n          }\n          .ayah-text {\n            font-size: 20px;\n            line-height: 2;\n            text-align: right;\n            flex: 1;\n          }\n          .answer-buttons {\n            display: grid;\n            grid-template-columns: 1fr 1fr;\n            gap: 12px;\n          }\n          .answer-btn {\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            gap: 8px;\n            padding: 16px;\n            border: none;\n            border-radius: 14px;\n            font-size: 14px;\n            font-weight: 600;\n            cursor: pointer;\n          }\n          .answer-btn.wrong {\n            background: rgba(231,76,60,0.2);\n            color: var(--error);\n          }\n          .answer-btn.correct {\n            background: var(--gold);\n            color: var(--bg-primary);\n          }\n          .arabic {\n            direction: rtl;\n            font-family: 'Amiri', 'Traditional Arabic', serif;\n          }\n        `}</style>\n      </div>\n    );\n  }\n\n  // Results Screen\n  if (mode === 'results') {\n    const percentage = Math.round((score.correct / score.total) * 100);\n    const { emoji, message, color } = getScoreMessage(percentage);\n    \n    return (\n      <div className=\"quiz-results\">\n        <div className=\"results-header\" style={{ background: `linear-gradient(135deg, ${color}20 0%, ${color}05 100%)` }}>\n          <span className=\"result-emoji\">{emoji}</span>\n          <h2>{percentage}%</h2>\n          <p className=\"result-message\">{message}</p>\n          <div className=\"score-breakdown\">\n            <span>{score.correct} correct</span>\n            <span>â€¢</span>\n            <span>{score.total - score.correct} incorrect</span>\n            <span>â€¢</span>\n            <span>{score.total} total</span>\n          </div>\n        </div>\n\n        <div className=\"performance-tips\">\n          <h3>Tips for Improvement</h3>\n          {percentage < 50 && (\n            <p>Focus on reviewing your memorized sections more frequently. Use the Review tab to strengthen weak areas.</p>\n          )}\n          {percentage >= 50 && percentage < 70 && (\n            <p>Good progress! Try connecting ayahs across page boundaries to improve flow.</p>\n          )}\n          {percentage >= 70 && percentage < 90 && (\n            <p>Great work! Challenge yourself with longer recitation lengths.</p>\n          )}\n          {percentage >= 90 && (\n            <p>Excellent mastery! Keep up your daily review to maintain this level.</p>\n          )}\n        </div>\n\n        <div className=\"results-actions\">\n          <button className=\"btn btn-secondary\" onClick={() => setMode('setup')}>\n            <RotateCcw size={18} /> New Quiz\n          </button>\n          <button className=\"btn btn-primary\" onClick={generateQuestions}>\n            <Zap size={18} /> Try Again\n          </button>\n        </div>\n\n        <style>{`\n          .quiz-results { animation: fadeIn 0.3s ease-out; }\n          .results-header {\n            text-align: center;\n            padding: 40px 20px;\n            border-radius: 20px;\n            margin-bottom: 20px;\n            border: 1px solid rgba(255,255,255,0.1);\n          }\n          .result-emoji { font-size: 60px; display: block; margin-bottom: 16px; }\n          .results-header h2 {\n            font-size: 56px;\n            font-weight: 700;\n            font-family: 'Space Grotesk', sans-serif;\n            margin-bottom: 8px;\n          }\n          .result-message {\n            font-size: 18px;\n            color: var(--text-secondary);\n            margin-bottom: 16px;\n          }\n          .score-breakdown {\n            display: flex;\n            justify-content: center;\n            gap: 12px;\n            font-size: 13px;\n            color: var(--text-muted);\n          }\n          .performance-tips {\n            background: var(--bg-surface);\n            padding: 20px;\n            border-radius: 16px;\n            margin-bottom: 20px;\n          }\n          .performance-tips h3 {\n            font-size: 14px;\n            color: var(--gold);\n            margin-bottom: 10px;\n          }\n          .performance-tips p {\n            font-size: 14px;\n            color: var(--text-secondary);\n            line-height: 1.6;\n          }\n          .results-actions {\n            display: grid;\n            grid-template-columns: 1fr 1fr;\n            gap: 12px;\n          }\n          .btn {\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            gap: 8px;\n            padding: 16px;\n            border: none;\n            border-radius: 14px;\n            font-size: 14px;\n            font-weight: 600;\n            cursor: pointer;\n          }\n          .btn-primary {\n            background: var(--gold);\n            color: var(--bg-primary);\n          }\n          .btn-secondary {\n            background: var(--bg-surface);\n            color: var(--text-primary);\n          }\n        `}</style>\n      </div>\n    );\n  }\n\n  return null;\n}\n\nexport default QuranQuiz;\n"],"mappings":"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AC,UAAA;QAAAC,YAAA;MAAA,OACH,CACN,eAEDrH,OAAA;QAAAgH,QAAA,EAAQ;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;MAAS;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACP,CAAC;EAEV;;EAEA;EACA,IAAIzG,IAAI,KAAK,MAAM,IAAIM,SAAS,CAACoD,MAAM,GAAG,CAAC,EAAE;IAC3C,MAAMyB,QAAQ,GAAG7E,SAAS,CAACE,eAAe,CAAC;IAE3C,oBACEpB,OAAA;MAAK+G,SAAS,EAAC,aAAa;MAAAC,QAAA,gBAC1BhH,OAAA;QAAK+G,SAAS,EAAC,eAAe;QAAAC,QAAA,gBAC5BhH,OAAA;UAAAgH,QAAA,GAAM,QAAM,EAAC5F,eAAe,GAAG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;UAAA,OAAE,CAAC,iBAEjB;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eACTrH,OAAA;UAAQ+G,SAAS,EAAC,oBAAoB;UAACQ,OAAO,EAAEA,CAAA,KAAMnB,YAAY,CAAC,IAAI,CAAE;UAAAY,QAAA,gBACvEhH,OAAA,CAACT,KAAK;YAAC0H,IAAI,EAAE;UAAG;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,qBAErB;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CACN,eAEDrH,OAAA;QAAAgH,QAAA,EAAQ;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}