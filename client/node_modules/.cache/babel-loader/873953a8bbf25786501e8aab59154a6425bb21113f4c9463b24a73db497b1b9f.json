{"ast":null,"code":"var _jsxFileName = \"/Users/abdullahinor/Desktop/Qawwam/client/src/components/QuranQuiz.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useApp } from '../context/AppContext';\nimport { HelpCircle, Play, Check, X, Award, RotateCcw, Settings } from 'lucide-react';\nimport { SURAHS } from './QuranReader';\nimport axios from 'axios';\n\n// Juz ranges (approximate)\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst JUZ_RANGES = {\n  1: {\n    from: {\n      surah: 1,\n      ayah: 1\n    },\n    to: {\n      surah: 2,\n      ayah: 141\n    }\n  },\n  2: {\n    from: {\n      surah: 2,\n      ayah: 142\n    },\n    to: {\n      surah: 2,\n      ayah: 252\n    }\n  },\n  3: {\n    from: {\n      surah: 2,\n      ayah: 253\n    },\n    to: {\n      surah: 3,\n      ayah: 92\n    }\n  },\n  28: {\n    from: {\n      surah: 58,\n      ayah: 1\n    },\n    to: {\n      surah: 66,\n      ayah: 12\n    }\n  },\n  29: {\n    from: {\n      surah: 67,\n      ayah: 1\n    },\n    to: {\n      surah: 77,\n      ayah: 50\n    }\n  },\n  30: {\n    from: {\n      surah: 78,\n      ayah: 1\n    },\n    to: {\n      surah: 114,\n      ayah: 6\n    }\n  }\n};\nfunction QuranQuiz() {\n  _s();\n  const {\n    addXp\n  } = useApp();\n  const [quizSettings, setQuizSettings] = useState({\n    mode: 'surah',\n    // 'surah' or 'juz'\n    surah: 114,\n    fromAyah: 1,\n    toAyah: 6,\n    juzFrom: 30,\n    juzTo: 30,\n    questionCount: 10\n  });\n  const [quizState, setQuizState] = useState('setup'); // 'setup', 'playing', 'results'\n  const [questions, setQuestions] = useState([]);\n  const [currentQuestion, setCurrentQuestion] = useState(0);\n  const [answers, setAnswers] = useState([]);\n  const [selectedAnswer, setSelectedAnswer] = useState(null);\n  const [showResult, setShowResult] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const currentSurah = SURAHS.find(s => s.number === quizSettings.surah);\n  const generateQuestions = async () => {\n    setLoading(true);\n    try {\n      let ayahPool = [];\n      if (quizSettings.mode === 'surah') {\n        // Fetch single surah\n        const res = await axios.get(`http://localhost:5000/api/surah/${quizSettings.surah}`);\n        const ayahs = res.data.data.ayahs.filter(a => a.numberInSurah >= quizSettings.fromAyah && a.numberInSurah <= quizSettings.toAyah);\n        ayahPool = ayahs.map(a => ({\n          surah: quizSettings.surah,\n          surahName: currentSurah === null || currentSurah === void 0 ? void 0 : currentSurah.name,\n          ayahNum: a.numberInSurah,\n          text: a.text\n        }));\n      } else {\n        // Fetch multiple surahs for Juz\n        const juzSurahs = SURAHS.filter(s => {\n          var _JUZ_RANGES$quizSetti, _JUZ_RANGES$quizSetti2;\n          return s.number >= ((_JUZ_RANGES$quizSetti = JUZ_RANGES[quizSettings.juzFrom]) === null || _JUZ_RANGES$quizSetti === void 0 ? void 0 : _JUZ_RANGES$quizSetti.from.surah) && s.number <= ((_JUZ_RANGES$quizSetti2 = JUZ_RANGES[quizSettings.juzTo]) === null || _JUZ_RANGES$quizSetti2 === void 0 ? void 0 : _JUZ_RANGES$quizSetti2.to.surah);\n        });\n        for (const surah of juzSurahs.slice(0, 5)) {\n          // Limit to 5 surahs for performance\n          const res = await axios.get(`http://localhost:5000/api/surah/${surah.number}`);\n          const ayahs = res.data.data.ayahs.map(a => ({\n            surah: surah.number,\n            surahName: surah.name,\n            ayahNum: a.numberInSurah,\n            text: a.text\n          }));\n          ayahPool.push(...ayahs);\n        }\n      }\n\n      // Shuffle and pick questions\n      const shuffled = ayahPool.sort(() => Math.random() - 0.5);\n      const selected = shuffled.slice(0, Math.min(quizSettings.questionCount, shuffled.length));\n\n      // Generate questions\n      const generatedQuestions = selected.map((ayah, i) => {\n        const words = ayah.text.split(' ');\n        const questionType = Math.random() > 0.5 ? 'complete' : 'identify';\n        if (questionType === 'complete' && words.length > 4) {\n          // Complete the ayah question\n          const blankIndex = Math.floor(Math.random() * (words.length - 2)) + 1;\n          const correctWord = words[blankIndex];\n          const displayText = words.map((w, i) => i === blankIndex ? '_____' : w).join(' ');\n\n          // Generate wrong options\n          const wrongOptions = shuffled.filter(a => a !== ayah).slice(0, 3).map(a => a.text.split(' ')[Math.floor(Math.random() * a.text.split(' ').length)]);\n          const options = [correctWord, ...wrongOptions].sort(() => Math.random() - 0.5);\n          return {\n            type: 'complete',\n            question: `Complete the ayah from Surah ${ayah.surahName}, Ayah ${ayah.ayahNum}:`,\n            displayText,\n            correctAnswer: correctWord,\n            options,\n            fullAyah: ayah.text\n          };\n        } else {\n          // Identify the surah question\n          const wrongSurahs = SURAHS.filter(s => s.number !== ayah.surah).sort(() => Math.random() - 0.5).slice(0, 3).map(s => s.name);\n          const options = [ayah.surahName, ...wrongSurahs].sort(() => Math.random() - 0.5);\n          return {\n            type: 'identify',\n            question: 'Which Surah is this ayah from?',\n            displayText: ayah.text,\n            correctAnswer: ayah.surahName,\n            options,\n            fullAyah: ayah.text,\n            ayahNum: ayah.ayahNum\n          };\n        }\n      });\n      setQuestions(generatedQuestions);\n      setQuizState('playing');\n      setCurrentQuestion(0);\n      setAnswers([]);\n      setSelectedAnswer(null);\n      setShowResult(false);\n    } catch (error) {\n      console.error('Error generating quiz:', error);\n    }\n    setLoading(false);\n  };\n  const handleAnswer = answer => {\n    if (showResult) return;\n    setSelectedAnswer(answer);\n    setShowResult(true);\n    const isCorrect = answer === questions[currentQuestion].correctAnswer;\n    setAnswers([...answers, {\n      questionIndex: currentQuestion,\n      answer,\n      correct: isCorrect\n    }]);\n  };\n  const nextQuestion = () => {\n    if (currentQuestion < questions.length - 1) {\n      setCurrentQuestion(currentQuestion + 1);\n      setSelectedAnswer(null);\n      setShowResult(false);\n    } else {\n      // Quiz complete\n      setQuizState('results');\n      const score = answers.filter(a => a.correct).length + (selectedAnswer === questions[currentQuestion].correctAnswer ? 1 : 0);\n      const xpEarned = Math.round(score / questions.length * 50);\n      addXp(xpEarned);\n    }\n  };\n  const getScoreMessage = percentage => {\n    if (percentage >= 90) return {\n      emoji: 'üèÜ',\n      message: 'Excellent! Mashallah!'\n    };\n    if (percentage >= 70) return {\n      emoji: '‚≠ê',\n      message: 'Great job! Keep it up!'\n    };\n    if (percentage >= 50) return {\n      emoji: 'üëç',\n      message: 'Good effort! Practice more!'\n    };\n    return {\n      emoji: 'üìö',\n      message: 'Keep practicing! You\\'ll improve!'\n    };\n  };\n\n  // Setup View\n  if (quizState === 'setup') {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"quiz-setup\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"setup-header\",\n        children: [/*#__PURE__*/_jsxDEV(HelpCircle, {\n          size: 32,\n          className: \"icon\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Quran Quiz\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Test your memorization knowledge\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"setting-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Quiz Mode\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mode-selector\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: `mode-btn ${quizSettings.mode === 'surah' ? 'active' : ''}`,\n            onClick: () => setQuizSettings(prev => ({\n              ...prev,\n              mode: 'surah'\n            })),\n            children: \"By Surah\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: `mode-btn ${quizSettings.mode === 'juz' ? 'active' : ''}`,\n            onClick: () => setQuizSettings(prev => ({\n              ...prev,\n              mode: 'juz'\n            })),\n            children: \"By Juz\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 9\n      }, this), quizSettings.mode === 'surah' ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"setting-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Select Surah\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: quizSettings.surah,\n            onChange: e => {\n              const surahNum = parseInt(e.target.value);\n              const surah = SURAHS.find(s => s.number === surahNum);\n              setQuizSettings(prev => ({\n                ...prev,\n                surah: surahNum,\n                fromAyah: 1,\n                toAyah: (surah === null || surah === void 0 ? void 0 : surah.ayahs) || 1\n              }));\n            },\n            children: SURAHS.map(s => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: s.number,\n              children: [s.number, \". \", s.name, \" (\", s.arabicName, \") - \", s.ayahs, \" ayahs\"]\n            }, s.number, true, {\n              fileName: _jsxFileName,\n              lineNumber: 223,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"setting-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Ayah Range\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 231,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"range-inputs\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              min: \"1\",\n              max: (currentSurah === null || currentSurah === void 0 ? void 0 : currentSurah.ayahs) || 1,\n              value: quizSettings.fromAyah,\n              onChange: e => setQuizSettings(prev => ({\n                ...prev,\n                fromAyah: parseInt(e.target.value) || 1\n              }))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 233,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"to\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 240,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              min: quizSettings.fromAyah,\n              max: (currentSurah === null || currentSurah === void 0 ? void 0 : currentSurah.ayahs) || 1,\n              value: quizSettings.toAyah,\n              onChange: e => setQuizSettings(prev => ({\n                ...prev,\n                toAyah: parseInt(e.target.value) || 1\n              }))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 241,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 232,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"setting-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Select Juz Range\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"range-inputs\",\n          children: [/*#__PURE__*/_jsxDEV(\"select\", {\n            value: quizSettings.juzFrom,\n            onChange: e => setQuizSettings(prev => ({\n              ...prev,\n              juzFrom: parseInt(e.target.value),\n              juzTo: Math.max(parseInt(e.target.value), prev.juzTo)\n            })),\n            children: [28, 29, 30].map(j => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: j,\n              children: [\"Juz \", j]\n            }, j, true, {\n              fileName: _jsxFileName,\n              lineNumber: 264,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"to\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: quizSettings.juzTo,\n            onChange: e => setQuizSettings(prev => ({\n              ...prev,\n              juzTo: parseInt(e.target.value)\n            })),\n            children: [28, 29, 30].filter(j => j >= quizSettings.juzFrom).map(j => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: j,\n              children: [\"Juz \", j]\n            }, j, true, {\n              fileName: _jsxFileName,\n              lineNumber: 273,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 268,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"setting-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Number of Questions\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"question-count-selector\",\n          children: [5, 10, 15, 20].map(num => /*#__PURE__*/_jsxDEV(\"button\", {\n            className: `count-btn ${quizSettings.questionCount === num ? 'active' : ''}`,\n            onClick: () => setQuizSettings(prev => ({\n              ...prev,\n              questionCount: num\n            })),\n            children: num\n          }, num, false, {\n            fileName: _jsxFileName,\n            lineNumber: 284,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-primary start-quiz-btn\",\n        onClick: generateQuestions,\n        disabled: loading,\n        children: loading ? 'Loading...' : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(Play, {\n            size: 18\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 300,\n            columnNumber: 39\n          }, this), \" Start Quiz\"]\n        }, void 0, true)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"style\", {\n        children: `\n          .quiz-setup {\n            animation: fadeIn 0.3s ease-out;\n          }\n          .setup-header {\n            text-align: center;\n            padding: 30px 20px;\n            background: var(--bg-surface);\n            border-radius: 16px;\n            margin-bottom: 20px;\n          }\n          .setup-header .icon {\n            color: var(--gold);\n            margin-bottom: 12px;\n          }\n          .setup-header h2 {\n            font-size: 22px;\n            margin-bottom: 8px;\n          }\n          .setup-header p {\n            color: var(--text-muted);\n            font-size: 13px;\n          }\n          .setting-group {\n            background: var(--bg-surface);\n            padding: 16px;\n            border-radius: 12px;\n            margin-bottom: 12px;\n          }\n          .setting-group label {\n            display: block;\n            font-size: 13px;\n            font-weight: 600;\n            margin-bottom: 10px;\n          }\n          .mode-selector {\n            display: grid;\n            grid-template-columns: 1fr 1fr;\n            gap: 8px;\n          }\n          .mode-btn {\n            padding: 12px;\n            background: var(--bg-surface-light);\n            border: 2px solid transparent;\n            border-radius: 8px;\n            color: var(--text-secondary);\n            font-size: 13px;\n            font-weight: 600;\n            cursor: pointer;\n          }\n          .mode-btn.active {\n            background: var(--primary);\n            border-color: var(--gold);\n            color: var(--gold);\n          }\n          select {\n            width: 100%;\n            padding: 12px;\n            background: var(--bg-surface-light);\n            border: none;\n            border-radius: 8px;\n            color: var(--text-primary);\n            font-size: 13px;\n          }\n          .range-inputs {\n            display: flex;\n            align-items: center;\n            gap: 10px;\n          }\n          .range-inputs input, .range-inputs select {\n            flex: 1;\n          }\n          .range-inputs input {\n            padding: 12px;\n            background: var(--bg-surface-light);\n            border: none;\n            border-radius: 8px;\n            color: var(--text-primary);\n            font-size: 14px;\n            text-align: center;\n          }\n          .range-inputs span {\n            color: var(--text-muted);\n          }\n          .question-count-selector {\n            display: grid;\n            grid-template-columns: repeat(4, 1fr);\n            gap: 8px;\n          }\n          .count-btn {\n            padding: 12px;\n            background: var(--bg-surface-light);\n            border: 2px solid transparent;\n            border-radius: 8px;\n            color: var(--text-secondary);\n            font-size: 14px;\n            font-weight: 600;\n            cursor: pointer;\n          }\n          .count-btn.active {\n            background: var(--primary);\n            border-color: var(--gold);\n            color: var(--gold);\n          }\n          .start-quiz-btn {\n            width: 100%;\n            padding: 16px;\n            font-size: 16px;\n            margin-top: 8px;\n          }\n        `\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 303,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 7\n    }, this);\n  }\n\n  // Playing View\n  if (quizState === 'playing' && questions.length > 0) {\n    const question = questions[currentQuestion];\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"quiz-playing\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"quiz-progress\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"Question \", currentQuestion + 1, \" of \", questions.length]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 426,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"progress-bar\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"progress-fill\",\n            style: {\n              width: `${(currentQuestion + 1) / questions.length * 100}%`\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 428,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 427,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 425,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"question-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"question-type\",\n          children: question.type === 'complete' ? 'üìù Complete the Ayah' : 'üîç Identify the Surah'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 434,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"question-text\",\n          children: question.question\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 435,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"arabic display-ayah\",\n          children: question.displayText\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 436,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 433,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"options-grid\",\n        children: question.options.map((option, i) => {\n          const isSelected = selectedAnswer === option;\n          const isCorrect = option === question.correctAnswer;\n          let className = 'option-btn';\n          if (showResult) {\n            if (isCorrect) className += ' correct';else if (isSelected && !isCorrect) className += ' wrong';\n          } else if (isSelected) {\n            className += ' selected';\n          }\n          return /*#__PURE__*/_jsxDEV(\"button\", {\n            className: className,\n            onClick: () => handleAnswer(option),\n            disabled: showResult,\n            children: [question.type === 'complete' ? /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"arabic option-arabic\",\n              children: option\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 461,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n              children: option\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 463,\n              columnNumber: 19\n            }, this), showResult && isCorrect && /*#__PURE__*/_jsxDEV(Check, {\n              size: 18,\n              className: \"result-icon\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 465,\n              columnNumber: 45\n            }, this), showResult && isSelected && !isCorrect && /*#__PURE__*/_jsxDEV(X, {\n              size: 18,\n              className: \"result-icon\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 466,\n              columnNumber: 60\n            }, this)]\n          }, i, true, {\n            fileName: _jsxFileName,\n            lineNumber: 454,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 440,\n        columnNumber: 9\n      }, this), showResult && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `feedback ${selectedAnswer === question.correctAnswer ? 'correct' : 'wrong'}`,\n        children: selectedAnswer === question.correctAnswer ? /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\u2705 Correct!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 476,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\u274C Incorrect. The correct answer was shown above.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 478,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 474,\n        columnNumber: 11\n      }, this), showResult && /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-primary next-btn\",\n        onClick: nextQuestion,\n        children: currentQuestion < questions.length - 1 ? 'Next Question' : 'See Results'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 485,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"style\", {\n        children: `\n          .quiz-playing {\n            animation: fadeIn 0.3s ease-out;\n          }\n          .quiz-progress {\n            margin-bottom: 20px;\n          }\n          .quiz-progress span {\n            font-size: 12px;\n            color: var(--text-muted);\n          }\n          .progress-bar {\n            height: 6px;\n            background: var(--bg-surface);\n            border-radius: 3px;\n            margin-top: 8px;\n            overflow: hidden;\n          }\n          .progress-fill {\n            height: 100%;\n            background: var(--gold);\n            transition: width 0.3s ease;\n          }\n          .question-card {\n            background: var(--bg-surface);\n            padding: 24px;\n            border-radius: 16px;\n            margin-bottom: 20px;\n            text-align: center;\n          }\n          .question-type {\n            font-size: 12px;\n            color: var(--gold);\n            margin-bottom: 12px;\n            display: block;\n          }\n          .question-text {\n            font-size: 14px;\n            color: var(--text-secondary);\n            margin-bottom: 16px;\n          }\n          .display-ayah {\n            font-size: 24px;\n            line-height: 2;\n            color: var(--text-primary);\n          }\n          .options-grid {\n            display: grid;\n            grid-template-columns: 1fr 1fr;\n            gap: 10px;\n            margin-bottom: 16px;\n          }\n          .option-btn {\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            gap: 8px;\n            padding: 16px;\n            background: var(--bg-surface);\n            border: 2px solid transparent;\n            border-radius: 12px;\n            color: var(--text-primary);\n            font-size: 14px;\n            cursor: pointer;\n            transition: all 0.2s ease;\n          }\n          .option-btn:hover:not(:disabled) {\n            border-color: var(--primary);\n          }\n          .option-btn.selected {\n            border-color: var(--gold);\n            background: rgba(212,175,55,0.1);\n          }\n          .option-btn.correct {\n            border-color: var(--success);\n            background: rgba(46,204,113,0.2);\n          }\n          .option-btn.wrong {\n            border-color: var(--error);\n            background: rgba(231,76,60,0.2);\n          }\n          .option-arabic {\n            font-size: 18px;\n          }\n          .result-icon {\n            flex-shrink: 0;\n          }\n          .feedback {\n            padding: 12px;\n            border-radius: 10px;\n            text-align: center;\n            margin-bottom: 16px;\n          }\n          .feedback.correct {\n            background: rgba(46,204,113,0.2);\n            color: var(--success);\n          }\n          .feedback.wrong {\n            background: rgba(231,76,60,0.2);\n            color: var(--error);\n          }\n          .next-btn {\n            width: 100%;\n          }\n        `\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 490,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 423,\n      columnNumber: 7\n    }, this);\n  }\n\n  // Results View\n  if (quizState === 'results') {\n    const correctCount = answers.filter(a => a.correct).length;\n    const percentage = Math.round(correctCount / questions.length * 100);\n    const {\n      emoji,\n      message\n    } = getScoreMessage(percentage);\n    const xpEarned = Math.round(correctCount / questions.length * 50);\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"quiz-results\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"results-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"result-emoji\",\n          children: emoji\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 609,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Quiz Complete!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 610,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"result-message\",\n          children: message\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 611,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"score-circle\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"score-value\",\n            children: [correctCount, \"/\", questions.length]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 614,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"score-percent\",\n            children: [percentage, \"%\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 615,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 613,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stats-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat\",\n            children: [/*#__PURE__*/_jsxDEV(Check, {\n              size: 16,\n              className: \"correct\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 620,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [correctCount, \" Correct\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 621,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 619,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"stat\",\n            children: [/*#__PURE__*/_jsxDEV(X, {\n              size: 16,\n              className: \"wrong\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 624,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [questions.length - correctCount, \" Wrong\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 625,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 623,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 618,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"xp-earned\",\n          children: [/*#__PURE__*/_jsxDEV(Award, {\n            size: 20\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 630,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"+\", xpEarned, \" XP earned\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 631,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 629,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 608,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"breakdown\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Question Breakdown\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 637,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"breakdown-list\",\n          children: answers.map((answer, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `breakdown-item ${answer.correct ? 'correct' : 'wrong'}`,\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"q-num\",\n              children: [\"Q\", i + 1]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 641,\n              columnNumber: 17\n            }, this), answer.correct ? /*#__PURE__*/_jsxDEV(Check, {\n              size: 16\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 642,\n              columnNumber: 35\n            }, this) : /*#__PURE__*/_jsxDEV(X, {\n              size: 16\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 642,\n              columnNumber: 57\n            }, this)]\n          }, i, true, {\n            fileName: _jsxFileName,\n            lineNumber: 640,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 638,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 636,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"result-actions\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-primary\",\n          onClick: () => setQuizState('setup'),\n          children: [/*#__PURE__*/_jsxDEV(RotateCcw, {\n            size: 18\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 650,\n            columnNumber: 13\n          }, this), \" New Quiz\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 649,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 648,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"style\", {\n        children: `\n          .quiz-results {\n            animation: fadeIn 0.3s ease-out;\n          }\n          .results-card {\n            background: var(--bg-surface);\n            border-radius: 20px;\n            padding: 32px;\n            text-align: center;\n            margin-bottom: 20px;\n          }\n          .result-emoji {\n            font-size: 48px;\n            display: block;\n            margin-bottom: 16px;\n          }\n          .results-card h2 {\n            font-size: 24px;\n            margin-bottom: 8px;\n          }\n          .result-message {\n            color: var(--text-secondary);\n            margin-bottom: 24px;\n          }\n          .score-circle {\n            width: 120px;\n            height: 120px;\n            border-radius: 50%;\n            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%);\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            justify-content: center;\n            margin: 0 auto 24px;\n          }\n          .score-value {\n            font-size: 28px;\n            font-weight: 700;\n            font-family: 'Space Grotesk', sans-serif;\n          }\n          .score-percent {\n            font-size: 14px;\n            color: var(--gold);\n          }\n          .stats-row {\n            display: flex;\n            justify-content: center;\n            gap: 24px;\n            margin-bottom: 20px;\n          }\n          .stat {\n            display: flex;\n            align-items: center;\n            gap: 6px;\n            font-size: 14px;\n          }\n          .stat .correct { color: var(--success); }\n          .stat .wrong { color: var(--error); }\n          .xp-earned {\n            display: inline-flex;\n            align-items: center;\n            gap: 8px;\n            background: rgba(212,175,55,0.2);\n            padding: 10px 20px;\n            border-radius: 20px;\n            color: var(--gold);\n            font-weight: 600;\n          }\n          .breakdown {\n            background: var(--bg-surface);\n            border-radius: 16px;\n            padding: 20px;\n            margin-bottom: 20px;\n          }\n          .breakdown h3 {\n            font-size: 14px;\n            color: var(--text-secondary);\n            margin-bottom: 16px;\n          }\n          .breakdown-list {\n            display: flex;\n            flex-wrap: wrap;\n            gap: 8px;\n          }\n          .breakdown-item {\n            display: flex;\n            align-items: center;\n            gap: 4px;\n            padding: 8px 12px;\n            border-radius: 8px;\n            font-size: 12px;\n          }\n          .breakdown-item.correct {\n            background: rgba(46,204,113,0.2);\n            color: var(--success);\n          }\n          .breakdown-item.wrong {\n            background: rgba(231,76,60,0.2);\n            color: var(--error);\n          }\n          .q-num {\n            font-weight: 600;\n          }\n          .result-actions .btn {\n            width: 100%;\n          }\n        `\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 654,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 607,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"Loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 765,\n    columnNumber: 10\n  }, this);\n}\n_s(QuranQuiz, \"U0sHJLSHOz4X7zEU6Z/H3HOXnXM=\", false, function () {\n  return [useApp];\n});\n_c = QuranQuiz;\nexport default QuranQuiz;\nvar _c;\n$RefreshReg$(_c, \"QuranQuiz\");","map":{"version":3,"names":["React","useState","useEffect","useApp","HelpCircle","Play","Check","X","Award","RotateCcw","Settings","SURAHS","axios","jsxDEV","_jsxDEV","Fragment","_Fragment","JUZ_RANGES","from","surah","ayah","to","QuranQuiz","_s","addXp","quizSettings","setQuizSettings","mode","fromAyah","toAyah","juzFrom","juzTo","questionCount","quizState","setQuizState","questions","setQuestions","currentQuestion","setCurrentQuestion","answers","setAnswers","selectedAnswer","setSelectedAnswer","showResult","setShowResult","loading","setLoading","currentSurah","find","s","number","generateQuestions","ayahPool","res","get","ayahs","data","filter","a","numberInSurah","map","surahName","name","ayahNum","text","juzSurahs","_JUZ_RANGES$quizSetti","_JUZ_RANGES$quizSetti2","slice","push","shuffled","sort","Math","random","selected","min","length","generatedQuestions","i","words","split","questionType","blankIndex","floor","correctWord","displayText","w","join","wrongOptions","options","type","question","correctAnswer","fullAyah","wrongSurahs","error","console","handleAnswer","answer","isCorrect","questionIndex","correct","nextQuestion","score","xpEarned","round","getScoreMessage","percentage","emoji","message","className","children","size","fileName","_jsxFileName","lineNumber","columnNumber","onClick","prev","value","onChange","e","surahNum","parseInt","target","arabicName","max","j","num","disabled","style","width","option","isSelected","correctCount","_c","$RefreshReg$"],"sources":["/Users/abdullahinor/Desktop/Qawwam/client/src/components/QuranQuiz.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useApp } from '../context/AppContext';\nimport { HelpCircle, Play, Check, X, Award, RotateCcw, Settings } from 'lucide-react';\nimport { SURAHS } from './QuranReader';\nimport axios from 'axios';\n\n// Juz ranges (approximate)\nconst JUZ_RANGES = {\n  1: { from: { surah: 1, ayah: 1 }, to: { surah: 2, ayah: 141 } },\n  2: { from: { surah: 2, ayah: 142 }, to: { surah: 2, ayah: 252 } },\n  3: { from: { surah: 2, ayah: 253 }, to: { surah: 3, ayah: 92 } },\n  28: { from: { surah: 58, ayah: 1 }, to: { surah: 66, ayah: 12 } },\n  29: { from: { surah: 67, ayah: 1 }, to: { surah: 77, ayah: 50 } },\n  30: { from: { surah: 78, ayah: 1 }, to: { surah: 114, ayah: 6 } },\n};\n\nfunction QuranQuiz() {\n  const { addXp } = useApp();\n  \n  const [quizSettings, setQuizSettings] = useState({\n    mode: 'surah', // 'surah' or 'juz'\n    surah: 114,\n    fromAyah: 1,\n    toAyah: 6,\n    juzFrom: 30,\n    juzTo: 30,\n    questionCount: 10\n  });\n\n  const [quizState, setQuizState] = useState('setup'); // 'setup', 'playing', 'results'\n  const [questions, setQuestions] = useState([]);\n  const [currentQuestion, setCurrentQuestion] = useState(0);\n  const [answers, setAnswers] = useState([]);\n  const [selectedAnswer, setSelectedAnswer] = useState(null);\n  const [showResult, setShowResult] = useState(false);\n  const [loading, setLoading] = useState(false);\n\n  const currentSurah = SURAHS.find(s => s.number === quizSettings.surah);\n\n  const generateQuestions = async () => {\n    setLoading(true);\n    \n    try {\n      let ayahPool = [];\n      \n      if (quizSettings.mode === 'surah') {\n        // Fetch single surah\n        const res = await axios.get(`http://localhost:5000/api/surah/${quizSettings.surah}`);\n        const ayahs = res.data.data.ayahs\n          .filter(a => a.numberInSurah >= quizSettings.fromAyah && a.numberInSurah <= quizSettings.toAyah);\n        \n        ayahPool = ayahs.map(a => ({\n          surah: quizSettings.surah,\n          surahName: currentSurah?.name,\n          ayahNum: a.numberInSurah,\n          text: a.text\n        }));\n      } else {\n        // Fetch multiple surahs for Juz\n        const juzSurahs = SURAHS.filter(s => \n          s.number >= JUZ_RANGES[quizSettings.juzFrom]?.from.surah &&\n          s.number <= JUZ_RANGES[quizSettings.juzTo]?.to.surah\n        );\n        \n        for (const surah of juzSurahs.slice(0, 5)) { // Limit to 5 surahs for performance\n          const res = await axios.get(`http://localhost:5000/api/surah/${surah.number}`);\n          const ayahs = res.data.data.ayahs.map(a => ({\n            surah: surah.number,\n            surahName: surah.name,\n            ayahNum: a.numberInSurah,\n            text: a.text\n          }));\n          ayahPool.push(...ayahs);\n        }\n      }\n\n      // Shuffle and pick questions\n      const shuffled = ayahPool.sort(() => Math.random() - 0.5);\n      const selected = shuffled.slice(0, Math.min(quizSettings.questionCount, shuffled.length));\n\n      // Generate questions\n      const generatedQuestions = selected.map((ayah, i) => {\n        const words = ayah.text.split(' ');\n        const questionType = Math.random() > 0.5 ? 'complete' : 'identify';\n        \n        if (questionType === 'complete' && words.length > 4) {\n          // Complete the ayah question\n          const blankIndex = Math.floor(Math.random() * (words.length - 2)) + 1;\n          const correctWord = words[blankIndex];\n          const displayText = words.map((w, i) => i === blankIndex ? '_____' : w).join(' ');\n          \n          // Generate wrong options\n          const wrongOptions = shuffled\n            .filter(a => a !== ayah)\n            .slice(0, 3)\n            .map(a => a.text.split(' ')[Math.floor(Math.random() * a.text.split(' ').length)]);\n          \n          const options = [correctWord, ...wrongOptions].sort(() => Math.random() - 0.5);\n          \n          return {\n            type: 'complete',\n            question: `Complete the ayah from Surah ${ayah.surahName}, Ayah ${ayah.ayahNum}:`,\n            displayText,\n            correctAnswer: correctWord,\n            options,\n            fullAyah: ayah.text\n          };\n        } else {\n          // Identify the surah question\n          const wrongSurahs = SURAHS\n            .filter(s => s.number !== ayah.surah)\n            .sort(() => Math.random() - 0.5)\n            .slice(0, 3)\n            .map(s => s.name);\n          \n          const options = [ayah.surahName, ...wrongSurahs].sort(() => Math.random() - 0.5);\n          \n          return {\n            type: 'identify',\n            question: 'Which Surah is this ayah from?',\n            displayText: ayah.text,\n            correctAnswer: ayah.surahName,\n            options,\n            fullAyah: ayah.text,\n            ayahNum: ayah.ayahNum\n          };\n        }\n      });\n\n      setQuestions(generatedQuestions);\n      setQuizState('playing');\n      setCurrentQuestion(0);\n      setAnswers([]);\n      setSelectedAnswer(null);\n      setShowResult(false);\n    } catch (error) {\n      console.error('Error generating quiz:', error);\n    }\n    \n    setLoading(false);\n  };\n\n  const handleAnswer = (answer) => {\n    if (showResult) return;\n    setSelectedAnswer(answer);\n    setShowResult(true);\n    \n    const isCorrect = answer === questions[currentQuestion].correctAnswer;\n    setAnswers([...answers, { \n      questionIndex: currentQuestion, \n      answer, \n      correct: isCorrect \n    }]);\n  };\n\n  const nextQuestion = () => {\n    if (currentQuestion < questions.length - 1) {\n      setCurrentQuestion(currentQuestion + 1);\n      setSelectedAnswer(null);\n      setShowResult(false);\n    } else {\n      // Quiz complete\n      setQuizState('results');\n      const score = answers.filter(a => a.correct).length + (selectedAnswer === questions[currentQuestion].correctAnswer ? 1 : 0);\n      const xpEarned = Math.round((score / questions.length) * 50);\n      addXp(xpEarned);\n    }\n  };\n\n  const getScoreMessage = (percentage) => {\n    if (percentage >= 90) return { emoji: 'üèÜ', message: 'Excellent! Mashallah!' };\n    if (percentage >= 70) return { emoji: '‚≠ê', message: 'Great job! Keep it up!' };\n    if (percentage >= 50) return { emoji: 'üëç', message: 'Good effort! Practice more!' };\n    return { emoji: 'üìö', message: 'Keep practicing! You\\'ll improve!' };\n  };\n\n  // Setup View\n  if (quizState === 'setup') {\n    return (\n      <div className=\"quiz-setup\">\n        <div className=\"setup-header\">\n          <HelpCircle size={32} className=\"icon\" />\n          <h2>Quran Quiz</h2>\n          <p>Test your memorization knowledge</p>\n        </div>\n\n        <div className=\"setting-group\">\n          <label>Quiz Mode</label>\n          <div className=\"mode-selector\">\n            <button \n              className={`mode-btn ${quizSettings.mode === 'surah' ? 'active' : ''}`}\n              onClick={() => setQuizSettings(prev => ({ ...prev, mode: 'surah' }))}\n            >\n              By Surah\n            </button>\n            <button \n              className={`mode-btn ${quizSettings.mode === 'juz' ? 'active' : ''}`}\n              onClick={() => setQuizSettings(prev => ({ ...prev, mode: 'juz' }))}\n            >\n              By Juz\n            </button>\n          </div>\n        </div>\n\n        {quizSettings.mode === 'surah' ? (\n          <>\n            <div className=\"setting-group\">\n              <label>Select Surah</label>\n              <select \n                value={quizSettings.surah}\n                onChange={(e) => {\n                  const surahNum = parseInt(e.target.value);\n                  const surah = SURAHS.find(s => s.number === surahNum);\n                  setQuizSettings(prev => ({ \n                    ...prev, \n                    surah: surahNum,\n                    fromAyah: 1,\n                    toAyah: surah?.ayahs || 1\n                  }));\n                }}\n              >\n                {SURAHS.map(s => (\n                  <option key={s.number} value={s.number}>\n                    {s.number}. {s.name} ({s.arabicName}) - {s.ayahs} ayahs\n                  </option>\n                ))}\n              </select>\n            </div>\n\n            <div className=\"setting-group\">\n              <label>Ayah Range</label>\n              <div className=\"range-inputs\">\n                <input \n                  type=\"number\" \n                  min=\"1\" \n                  max={currentSurah?.ayahs || 1}\n                  value={quizSettings.fromAyah}\n                  onChange={(e) => setQuizSettings(prev => ({ ...prev, fromAyah: parseInt(e.target.value) || 1 }))}\n                />\n                <span>to</span>\n                <input \n                  type=\"number\" \n                  min={quizSettings.fromAyah} \n                  max={currentSurah?.ayahs || 1}\n                  value={quizSettings.toAyah}\n                  onChange={(e) => setQuizSettings(prev => ({ ...prev, toAyah: parseInt(e.target.value) || 1 }))}\n                />\n              </div>\n            </div>\n          </>\n        ) : (\n          <div className=\"setting-group\">\n            <label>Select Juz Range</label>\n            <div className=\"range-inputs\">\n              <select \n                value={quizSettings.juzFrom}\n                onChange={(e) => setQuizSettings(prev => ({ \n                  ...prev, \n                  juzFrom: parseInt(e.target.value),\n                  juzTo: Math.max(parseInt(e.target.value), prev.juzTo)\n                }))}\n              >\n                {[28, 29, 30].map(j => (\n                  <option key={j} value={j}>Juz {j}</option>\n                ))}\n              </select>\n              <span>to</span>\n              <select \n                value={quizSettings.juzTo}\n                onChange={(e) => setQuizSettings(prev => ({ ...prev, juzTo: parseInt(e.target.value) }))}\n              >\n                {[28, 29, 30].filter(j => j >= quizSettings.juzFrom).map(j => (\n                  <option key={j} value={j}>Juz {j}</option>\n                ))}\n              </select>\n            </div>\n          </div>\n        )}\n\n        <div className=\"setting-group\">\n          <label>Number of Questions</label>\n          <div className=\"question-count-selector\">\n            {[5, 10, 15, 20].map(num => (\n              <button\n                key={num}\n                className={`count-btn ${quizSettings.questionCount === num ? 'active' : ''}`}\n                onClick={() => setQuizSettings(prev => ({ ...prev, questionCount: num }))}\n              >\n                {num}\n              </button>\n            ))}\n          </div>\n        </div>\n\n        <button \n          className=\"btn btn-primary start-quiz-btn\"\n          onClick={generateQuestions}\n          disabled={loading}\n        >\n          {loading ? 'Loading...' : <><Play size={18} /> Start Quiz</>}\n        </button>\n\n        <style>{`\n          .quiz-setup {\n            animation: fadeIn 0.3s ease-out;\n          }\n          .setup-header {\n            text-align: center;\n            padding: 30px 20px;\n            background: var(--bg-surface);\n            border-radius: 16px;\n            margin-bottom: 20px;\n          }\n          .setup-header .icon {\n            color: var(--gold);\n            margin-bottom: 12px;\n          }\n          .setup-header h2 {\n            font-size: 22px;\n            margin-bottom: 8px;\n          }\n          .setup-header p {\n            color: var(--text-muted);\n            font-size: 13px;\n          }\n          .setting-group {\n            background: var(--bg-surface);\n            padding: 16px;\n            border-radius: 12px;\n            margin-bottom: 12px;\n          }\n          .setting-group label {\n            display: block;\n            font-size: 13px;\n            font-weight: 600;\n            margin-bottom: 10px;\n          }\n          .mode-selector {\n            display: grid;\n            grid-template-columns: 1fr 1fr;\n            gap: 8px;\n          }\n          .mode-btn {\n            padding: 12px;\n            background: var(--bg-surface-light);\n            border: 2px solid transparent;\n            border-radius: 8px;\n            color: var(--text-secondary);\n            font-size: 13px;\n            font-weight: 600;\n            cursor: pointer;\n          }\n          .mode-btn.active {\n            background: var(--primary);\n            border-color: var(--gold);\n            color: var(--gold);\n          }\n          select {\n            width: 100%;\n            padding: 12px;\n            background: var(--bg-surface-light);\n            border: none;\n            border-radius: 8px;\n            color: var(--text-primary);\n            font-size: 13px;\n          }\n          .range-inputs {\n            display: flex;\n            align-items: center;\n            gap: 10px;\n          }\n          .range-inputs input, .range-inputs select {\n            flex: 1;\n          }\n          .range-inputs input {\n            padding: 12px;\n            background: var(--bg-surface-light);\n            border: none;\n            border-radius: 8px;\n            color: var(--text-primary);\n            font-size: 14px;\n            text-align: center;\n          }\n          .range-inputs span {\n            color: var(--text-muted);\n          }\n          .question-count-selector {\n            display: grid;\n            grid-template-columns: repeat(4, 1fr);\n            gap: 8px;\n          }\n          .count-btn {\n            padding: 12px;\n            background: var(--bg-surface-light);\n            border: 2px solid transparent;\n            border-radius: 8px;\n            color: var(--text-secondary);\n            font-size: 14px;\n            font-weight: 600;\n            cursor: pointer;\n          }\n          .count-btn.active {\n            background: var(--primary);\n            border-color: var(--gold);\n            color: var(--gold);\n          }\n          .start-quiz-btn {\n            width: 100%;\n            padding: 16px;\n            font-size: 16px;\n            margin-top: 8px;\n          }\n        `}</style>\n      </div>\n    );\n  }\n\n  // Playing View\n  if (quizState === 'playing' && questions.length > 0) {\n    const question = questions[currentQuestion];\n    \n    return (\n      <div className=\"quiz-playing\">\n        {/* Progress */}\n        <div className=\"quiz-progress\">\n          <span>Question {currentQuestion + 1} of {questions.length}</span>\n          <div className=\"progress-bar\">\n            <div className=\"progress-fill\" style={{ width: `${((currentQuestion + 1) / questions.length) * 100}%` }} />\n          </div>\n        </div>\n\n        {/* Question */}\n        <div className=\"question-card\">\n          <span className=\"question-type\">{question.type === 'complete' ? 'üìù Complete the Ayah' : 'üîç Identify the Surah'}</span>\n          <p className=\"question-text\">{question.question}</p>\n          <p className=\"arabic display-ayah\">{question.displayText}</p>\n        </div>\n\n        {/* Options */}\n        <div className=\"options-grid\">\n          {question.options.map((option, i) => {\n            const isSelected = selectedAnswer === option;\n            const isCorrect = option === question.correctAnswer;\n            let className = 'option-btn';\n            \n            if (showResult) {\n              if (isCorrect) className += ' correct';\n              else if (isSelected && !isCorrect) className += ' wrong';\n            } else if (isSelected) {\n              className += ' selected';\n            }\n            \n            return (\n              <button\n                key={i}\n                className={className}\n                onClick={() => handleAnswer(option)}\n                disabled={showResult}\n              >\n                {question.type === 'complete' ? (\n                  <span className=\"arabic option-arabic\">{option}</span>\n                ) : (\n                  <span>{option}</span>\n                )}\n                {showResult && isCorrect && <Check size={18} className=\"result-icon\" />}\n                {showResult && isSelected && !isCorrect && <X size={18} className=\"result-icon\" />}\n              </button>\n            );\n          })}\n        </div>\n\n        {/* Result feedback */}\n        {showResult && (\n          <div className={`feedback ${selectedAnswer === question.correctAnswer ? 'correct' : 'wrong'}`}>\n            {selectedAnswer === question.correctAnswer ? (\n              <p>‚úÖ Correct!</p>\n            ) : (\n              <p>‚ùå Incorrect. The correct answer was shown above.</p>\n            )}\n          </div>\n        )}\n\n        {/* Next button */}\n        {showResult && (\n          <button className=\"btn btn-primary next-btn\" onClick={nextQuestion}>\n            {currentQuestion < questions.length - 1 ? 'Next Question' : 'See Results'}\n          </button>\n        )}\n\n        <style>{`\n          .quiz-playing {\n            animation: fadeIn 0.3s ease-out;\n          }\n          .quiz-progress {\n            margin-bottom: 20px;\n          }\n          .quiz-progress span {\n            font-size: 12px;\n            color: var(--text-muted);\n          }\n          .progress-bar {\n            height: 6px;\n            background: var(--bg-surface);\n            border-radius: 3px;\n            margin-top: 8px;\n            overflow: hidden;\n          }\n          .progress-fill {\n            height: 100%;\n            background: var(--gold);\n            transition: width 0.3s ease;\n          }\n          .question-card {\n            background: var(--bg-surface);\n            padding: 24px;\n            border-radius: 16px;\n            margin-bottom: 20px;\n            text-align: center;\n          }\n          .question-type {\n            font-size: 12px;\n            color: var(--gold);\n            margin-bottom: 12px;\n            display: block;\n          }\n          .question-text {\n            font-size: 14px;\n            color: var(--text-secondary);\n            margin-bottom: 16px;\n          }\n          .display-ayah {\n            font-size: 24px;\n            line-height: 2;\n            color: var(--text-primary);\n          }\n          .options-grid {\n            display: grid;\n            grid-template-columns: 1fr 1fr;\n            gap: 10px;\n            margin-bottom: 16px;\n          }\n          .option-btn {\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            gap: 8px;\n            padding: 16px;\n            background: var(--bg-surface);\n            border: 2px solid transparent;\n            border-radius: 12px;\n            color: var(--text-primary);\n            font-size: 14px;\n            cursor: pointer;\n            transition: all 0.2s ease;\n          }\n          .option-btn:hover:not(:disabled) {\n            border-color: var(--primary);\n          }\n          .option-btn.selected {\n            border-color: var(--gold);\n            background: rgba(212,175,55,0.1);\n          }\n          .option-btn.correct {\n            border-color: var(--success);\n            background: rgba(46,204,113,0.2);\n          }\n          .option-btn.wrong {\n            border-color: var(--error);\n            background: rgba(231,76,60,0.2);\n          }\n          .option-arabic {\n            font-size: 18px;\n          }\n          .result-icon {\n            flex-shrink: 0;\n          }\n          .feedback {\n            padding: 12px;\n            border-radius: 10px;\n            text-align: center;\n            margin-bottom: 16px;\n          }\n          .feedback.correct {\n            background: rgba(46,204,113,0.2);\n            color: var(--success);\n          }\n          .feedback.wrong {\n            background: rgba(231,76,60,0.2);\n            color: var(--error);\n          }\n          .next-btn {\n            width: 100%;\n          }\n        `}</style>\n      </div>\n    );\n  }\n\n  // Results View\n  if (quizState === 'results') {\n    const correctCount = answers.filter(a => a.correct).length;\n    const percentage = Math.round((correctCount / questions.length) * 100);\n    const { emoji, message } = getScoreMessage(percentage);\n    const xpEarned = Math.round((correctCount / questions.length) * 50);\n\n    return (\n      <div className=\"quiz-results\">\n        <div className=\"results-card\">\n          <span className=\"result-emoji\">{emoji}</span>\n          <h2>Quiz Complete!</h2>\n          <p className=\"result-message\">{message}</p>\n          \n          <div className=\"score-circle\">\n            <span className=\"score-value\">{correctCount}/{questions.length}</span>\n            <span className=\"score-percent\">{percentage}%</span>\n          </div>\n\n          <div className=\"stats-row\">\n            <div className=\"stat\">\n              <Check size={16} className=\"correct\" />\n              <span>{correctCount} Correct</span>\n            </div>\n            <div className=\"stat\">\n              <X size={16} className=\"wrong\" />\n              <span>{questions.length - correctCount} Wrong</span>\n            </div>\n          </div>\n\n          <div className=\"xp-earned\">\n            <Award size={20} />\n            <span>+{xpEarned} XP earned</span>\n          </div>\n        </div>\n\n        {/* Question breakdown */}\n        <div className=\"breakdown\">\n          <h3>Question Breakdown</h3>\n          <div className=\"breakdown-list\">\n            {answers.map((answer, i) => (\n              <div key={i} className={`breakdown-item ${answer.correct ? 'correct' : 'wrong'}`}>\n                <span className=\"q-num\">Q{i + 1}</span>\n                {answer.correct ? <Check size={16} /> : <X size={16} />}\n              </div>\n            ))}\n          </div>\n        </div>\n\n        <div className=\"result-actions\">\n          <button className=\"btn btn-primary\" onClick={() => setQuizState('setup')}>\n            <RotateCcw size={18} /> New Quiz\n          </button>\n        </div>\n\n        <style>{`\n          .quiz-results {\n            animation: fadeIn 0.3s ease-out;\n          }\n          .results-card {\n            background: var(--bg-surface);\n            border-radius: 20px;\n            padding: 32px;\n            text-align: center;\n            margin-bottom: 20px;\n          }\n          .result-emoji {\n            font-size: 48px;\n            display: block;\n            margin-bottom: 16px;\n          }\n          .results-card h2 {\n            font-size: 24px;\n            margin-bottom: 8px;\n          }\n          .result-message {\n            color: var(--text-secondary);\n            margin-bottom: 24px;\n          }\n          .score-circle {\n            width: 120px;\n            height: 120px;\n            border-radius: 50%;\n            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%);\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            justify-content: center;\n            margin: 0 auto 24px;\n          }\n          .score-value {\n            font-size: 28px;\n            font-weight: 700;\n            font-family: 'Space Grotesk', sans-serif;\n          }\n          .score-percent {\n            font-size: 14px;\n            color: var(--gold);\n          }\n          .stats-row {\n            display: flex;\n            justify-content: center;\n            gap: 24px;\n            margin-bottom: 20px;\n          }\n          .stat {\n            display: flex;\n            align-items: center;\n            gap: 6px;\n            font-size: 14px;\n          }\n          .stat .correct { color: var(--success); }\n          .stat .wrong { color: var(--error); }\n          .xp-earned {\n            display: inline-flex;\n            align-items: center;\n            gap: 8px;\n            background: rgba(212,175,55,0.2);\n            padding: 10px 20px;\n            border-radius: 20px;\n            color: var(--gold);\n            font-weight: 600;\n          }\n          .breakdown {\n            background: var(--bg-surface);\n            border-radius: 16px;\n            padding: 20px;\n            margin-bottom: 20px;\n          }\n          .breakdown h3 {\n            font-size: 14px;\n            color: var(--text-secondary);\n            margin-bottom: 16px;\n          }\n          .breakdown-list {\n            display: flex;\n            flex-wrap: wrap;\n            gap: 8px;\n          }\n          .breakdown-item {\n            display: flex;\n            align-items: center;\n            gap: 4px;\n            padding: 8px 12px;\n            border-radius: 8px;\n            font-size: 12px;\n          }\n          .breakdown-item.correct {\n            background: rgba(46,204,113,0.2);\n            color: var(--success);\n          }\n          .breakdown-item.wrong {\n            background: rgba(231,76,60,0.2);\n            color: var(--error);\n          }\n          .q-num {\n            font-weight: 600;\n          }\n          .result-actions .btn {\n            width: 100%;\n          }\n        `}</style>\n      </div>\n    );\n  }\n\n  return <div>Loading...</div>;\n}\n\nexport default QuranQuiz;\n\n"],"mappings":"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EjBlE,OAAO,GAAG,YAAY,gBAAG/B,OAAA,CAAAE,SAAA;UAAA+F,QAAA,gBAAEjG,OAAA,CAACT,IAAI;YAAC2G,IAAI,EAAE;UAAG;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,eAAW;QAAA,eAAE;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACtD,CAAC,eAETtG,OAAA;QAAAiG,QAAA,EAAQ;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;MAAS;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACP,CAAC;EAEV;;EAEA;EACA,IAAInF,SAAS,KAAK,SAAS,IAAIE,SAAS,CAACyC,MAAM,GAAG,CAAC,EAAE;IACnD,MAAMe,QAAQ,GAAGxD,SAAS,CAACE,eAAe,CAAC;IAE3C,oBACEvB,OAAA;MAAKgG,SAAS,EAAC,cAAc;MAAAC,QAAA,gBAE3BjG,OAAA;QAAKgG,SAAS,EAAC,eAAe;QAAAC,QAAA,gBAC5BjG,OAAA;UAAAiG,QAAA,GAAM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AAG;QAAAmB,QAAA,EAC3FtE,cAAc,KAAKkD,QAAQ,CAACC,aAAa,gBACxC9E,OAAA;UAAAiG,QAAA,EAAG;QAAU;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC,gBAEjBtG,OAAA;UAAAiG,QAAA,EAAG;QAAgD;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG;MACvD;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CACN,EAGAzE,UAAU,iBACT7B,OAAA;QAAQgG,SAAS,EAAC,0BAA0B;QAACO,OAAO,EAAEf,YAAa;QAAAS,QAAA,EAChE1E,eAAe,GAAGF,SAAS,CAACyC,MAAM,GAAG,CAAC,GAAG,eAAe,GAAG;MAAa;QAAAqC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACnE,CACT,eAEDtG,OAAA;QAAAiG,QAAA,EAAQ;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;MAAS;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACP,CAAC;EAEV;;EAEA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E,CAAC,aACzB;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC,eAENtG,OAAA;QAAAiG,QAAA,EAAQ;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;MAAS;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACP,CAAC;EAEV;EAEA,oBAAOtG,OAAA;IAAAiG,QAAA,EAAK;EAAU;IAAAE,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAK,CAAC;AAC9B;AAAC7F,EAAA,CA7uBQD,SAAS;EAAA,QACEnB,MAAM;AAAA;AAAAoI,EAAA,GADjBjH,SAAS;AA+uBlB,eAAeA,SAAS;AAAC,IAAAiH,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}