{"ast":null,"code":"var _jsxFileName = \"/Users/abdullahinor/Desktop/Qawwam/client/src/components/MemorizationPlan.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useAuth } from '../context/AuthContext';\nimport { doc, getDoc, setDoc, updateDoc } from 'firebase/firestore';\nimport { db } from '../config/firebase';\nimport { Target, Check, Settings, BookOpen, Award, Flame, ChevronRight, ChevronLeft, Plus, Minus, Calendar, Star, BarChart3, Trophy } from 'lucide-react';\nimport { SURAHS } from './QuranReader';\n\n// Spaced repetition intervals (in days)\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst REVIEW_INTERVALS = [1, 3, 7, 14, 30, 60];\n\n// Total ayahs in the Quran\nconst TOTAL_QURAN_AYAHS = 6236;\n\n// Juz breakdown (approximate ayah ranges)\nconst JUZ_DATA = [{\n  juz: 1,\n  startSurah: 1,\n  endSurah: 2,\n  ayahs: 148\n}, {\n  juz: 2,\n  startSurah: 2,\n  endSurah: 2,\n  ayahs: 141\n}, {\n  juz: 3,\n  startSurah: 2,\n  endSurah: 3,\n  ayahs: 126\n},\n// ... simplified for demo\n{\n  juz: 30,\n  startSurah: 78,\n  endSurah: 114,\n  ayahs: 564\n}];\nfunction MemorizationPlan() {\n  _s();\n  const {\n    user\n  } = useAuth();\n  const [settings, setSettings] = useState({\n    dailyNewAyats: 5,\n    dailyReviewAyats: 10,\n    currentSurah: 114,\n    currentAyah: 1,\n    startedDate: null\n  });\n  const [progress, setProgress] = useState({\n    memorizedAyats: [],\n    // Array of { id, surah, ayahNum, text, memorizedAt, reviewCount, nextReview, lastReviewed }\n    todayNew: 0,\n    todayReviewed: 0,\n    lastActiveDate: null,\n    streak: 0,\n    points: 0,\n    totalMemorized: 0\n  });\n  const [todayAyahs, setTodayAyahs] = useState([]);\n  const [reviewAyahs, setReviewAyahs] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [view, setView] = useState('dashboard'); // dashboard, memorize, review, settings\n  const [currentAyahIndex, setCurrentAyahIndex] = useState(0);\n\n  // Load user's memorization data from Firestore\n  useEffect(() => {\n    if (user) {\n      loadUserData();\n    }\n  }, [user]);\n  const loadUserData = async () => {\n    if (!user) return;\n    setLoading(true);\n    try {\n      const docRef = doc(db, 'users', user.uid, 'quran', 'memorization');\n      const docSnap = await getDoc(docRef);\n      if (docSnap.exists()) {\n        var _data$progress;\n        const data = docSnap.data();\n        setSettings(data.settings || settings);\n        setProgress(data.progress || progress);\n\n        // Check if new day - reset daily counters\n        const today = new Date().toDateString();\n        if (((_data$progress = data.progress) === null || _data$progress === void 0 ? void 0 : _data$progress.lastActiveDate) !== today) {\n          const newProgress = {\n            ...data.progress,\n            todayNew: 0,\n            todayReviewed: 0,\n            lastActiveDate: today\n          };\n          setProgress(newProgress);\n          // Save the reset\n          await setDoc(docRef, {\n            settings: data.settings || settings,\n            progress: newProgress\n          }, {\n            merge: true\n          });\n        }\n      } else {\n        // Initialize new user data\n        const initialData = {\n          settings,\n          progress: {\n            ...progress,\n            lastActiveDate: new Date().toDateString()\n          }\n        };\n        await setDoc(docRef, initialData);\n      }\n    } catch (error) {\n      console.error('Error loading memorization data:', error);\n    }\n    setLoading(false);\n  };\n  const saveUserData = async (newSettings, newProgress) => {\n    if (!user) return;\n    try {\n      const docRef = doc(db, 'users', user.uid, 'quran', 'memorization');\n      await setDoc(docRef, {\n        settings: newSettings || settings,\n        progress: newProgress || progress,\n        updatedAt: new Date().toISOString()\n      }, {\n        merge: true\n      });\n    } catch (error) {\n      console.error('Error saving memorization data:', error);\n    }\n  };\n\n  // Get ayahs due for review (spaced repetition)\n  const getReviewAyahs = () => {\n    const today = new Date();\n    const dueAyahs = progress.memorizedAyats.filter(ayah => {\n      if (!ayah.nextReview) return false;\n      const reviewDate = new Date(ayah.nextReview);\n      return reviewDate <= today;\n    });\n    return dueAyahs.slice(0, settings.dailyReviewAyats);\n  };\n\n  // Calculate next review date based on review count\n  const getNextReviewDate = reviewCount => {\n    const interval = REVIEW_INTERVALS[Math.min(reviewCount, REVIEW_INTERVALS.length - 1)];\n    const nextDate = new Date();\n    nextDate.setDate(nextDate.getDate() + interval);\n    return nextDate.toISOString();\n  };\n\n  // Mark ayah as memorized\n  const markAyahMemorized = async (surah, ayahNum, ayahText) => {\n    const ayahId = `${surah}:${ayahNum}`;\n    const existingIndex = progress.memorizedAyats.findIndex(a => a.id === ayahId);\n    let updatedAyats = [...progress.memorizedAyats];\n    if (existingIndex === -1) {\n      // New memorization\n      updatedAyats.push({\n        id: ayahId,\n        surah,\n        ayahNum,\n        text: (ayahText === null || ayahText === void 0 ? void 0 : ayahText.substring(0, 100)) || '',\n        // Store preview\n        memorizedAt: new Date().toISOString(),\n        reviewCount: 0,\n        nextReview: getNextReviewDate(0),\n        lastReviewed: null,\n        status: 'memorized'\n      });\n    }\n    const newProgress = {\n      ...progress,\n      memorizedAyats: updatedAyats,\n      todayNew: progress.todayNew + 1,\n      points: progress.points + 10,\n      totalMemorized: updatedAyats.length,\n      lastActiveDate: new Date().toDateString()\n    };\n    setProgress(newProgress);\n    await saveUserData(settings, newProgress);\n\n    // Check daily goal\n    checkDailyGoal(newProgress);\n  };\n\n  // Mark ayah as reviewed\n  const markAyahReviewed = async (ayahId, correct) => {\n    const updatedAyats = progress.memorizedAyats.map(ayah => {\n      if (ayah.id === ayahId) {\n        const newReviewCount = correct ? ayah.reviewCount + 1 : Math.max(0, ayah.reviewCount - 1);\n        return {\n          ...ayah,\n          reviewCount: newReviewCount,\n          nextReview: getNextReviewDate(newReviewCount),\n          lastReviewed: new Date().toISOString(),\n          status: newReviewCount >= 5 ? 'mastered' : 'reviewed'\n        };\n      }\n      return ayah;\n    });\n    const newProgress = {\n      ...progress,\n      memorizedAyats: updatedAyats,\n      todayReviewed: progress.todayReviewed + 1,\n      points: progress.points + (correct ? 5 : 1),\n      lastActiveDate: new Date().toDateString()\n    };\n    setProgress(newProgress);\n    await saveUserData(settings, newProgress);\n    checkDailyGoal(newProgress);\n  };\n\n  // Check if daily goal is met\n  const checkDailyGoal = async currentProgress => {\n    const goalMet = currentProgress.todayNew >= settings.dailyNewAyats && currentProgress.todayReviewed >= settings.dailyReviewAyats;\n    if (goalMet && currentProgress.streak === progress.streak) {\n      // Update streak\n      const newStreak = currentProgress.streak + 1;\n      const bonusPoints = 20; // Bonus for completing daily goal\n\n      const updatedProgress = {\n        ...currentProgress,\n        streak: newStreak,\n        points: currentProgress.points + bonusPoints\n      };\n      setProgress(updatedProgress);\n      await saveUserData(settings, updatedProgress);\n    }\n  };\n\n  // Fetch ayahs for memorization\n  const fetchNewAyahs = async () => {\n    try {\n      const response = await fetch(`https://api.alquran.cloud/v1/surah/${settings.currentSurah}/ar.alafasy`);\n      const data = await response.json();\n      const surahAyahs = data.data.ayahs;\n\n      // Get next ayahs to memorize (skip already memorized)\n      const memorizedIds = new Set(progress.memorizedAyats.map(a => a.id));\n      const availableAyahs = surahAyahs.filter(a => !memorizedIds.has(`${settings.currentSurah}:${a.numberInSurah}`));\n      const newAyahs = availableAyahs.slice(0, settings.dailyNewAyats).map(a => {\n        var _SURAHS$find;\n        return {\n          ...a,\n          surahNum: settings.currentSurah,\n          surahName: (_SURAHS$find = SURAHS.find(s => s.number === settings.currentSurah)) === null || _SURAHS$find === void 0 ? void 0 : _SURAHS$find.name\n        };\n      });\n      setTodayAyahs(newAyahs);\n    } catch (error) {\n      console.error('Error fetching ayahs:', error);\n    }\n  };\n  useEffect(() => {\n    if (settings.startedDate && view === 'memorize') {\n      fetchNewAyahs();\n    }\n    if (view === 'review') {\n      setReviewAyahs(getReviewAyahs());\n    }\n  }, [settings, view, progress.memorizedAyats]);\n  const startPlan = async () => {\n    const newSettings = {\n      ...settings,\n      startedDate: new Date().toISOString()\n    };\n    setSettings(newSettings);\n    await saveUserData(newSettings, progress);\n    setView('dashboard');\n  };\n  const dailyGoalProgress = {\n    new: Math.min(progress.todayNew / settings.dailyNewAyats * 100, 100),\n    review: Math.min(progress.todayReviewed / settings.dailyReviewAyats * 100, 100)\n  };\n  const reviewDueCount = getReviewAyahs().length;\n\n  // Calculate overall Quran progress\n  const quranProgress = (progress.totalMemorized || progress.memorizedAyats.length) / TOTAL_QURAN_AYAHS * 100;\n  const masteredCount = progress.memorizedAyats.filter(a => a.status === 'mastered').length;\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loading-state\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"spinner\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Loading your progress...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 290,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 288,\n      columnNumber: 7\n    }, this);\n  }\n\n  // Settings View\n  if (view === 'settings' || !settings.startedDate) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"memorization-settings\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"settings-header\",\n        children: [/*#__PURE__*/_jsxDEV(Target, {\n          size: 32,\n          className: \"icon\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: settings.startedDate ? 'Adjust Goals' : 'Set Your Goals'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 301,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Customize your daily memorization targets\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 302,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"setting-option\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"New Ayahs Per Day\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"number-selector\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setSettings(p => ({\n              ...p,\n              dailyNewAyats: Math.max(1, p.dailyNewAyats - 1)\n            })),\n            children: /*#__PURE__*/_jsxDEV(Minus, {\n              size: 18\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 309,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 308,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"number-value\",\n            children: settings.dailyNewAyats\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 311,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setSettings(p => ({\n              ...p,\n              dailyNewAyats: Math.min(20, p.dailyNewAyats + 1)\n            })),\n            children: /*#__PURE__*/_jsxDEV(Plus, {\n              size: 18\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 313,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 312,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 307,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"helper-text\",\n          children: \"Recommended: 5-10 ayahs/day\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 316,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"setting-option\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Review Ayahs Per Day\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 320,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"number-selector\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setSettings(p => ({\n              ...p,\n              dailyReviewAyats: Math.max(5, p.dailyReviewAyats - 5)\n            })),\n            children: /*#__PURE__*/_jsxDEV(Minus, {\n              size: 18\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 323,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 322,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"number-value\",\n            children: settings.dailyReviewAyats\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 325,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setSettings(p => ({\n              ...p,\n              dailyReviewAyats: Math.min(50, p.dailyReviewAyats + 5)\n            })),\n            children: /*#__PURE__*/_jsxDEV(Plus, {\n              size: 18\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 327,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 326,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 321,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"helper-text\",\n          children: \"Recommended: 10-20 ayahs/day\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 330,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 319,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"setting-option\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Start From Surah\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 334,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: settings.currentSurah,\n          onChange: e => setSettings(p => ({\n            ...p,\n            currentSurah: parseInt(e.target.value),\n            currentAyah: 1\n          })),\n          children: SURAHS.slice().reverse().map(surah => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: surah.number,\n            children: [surah.number, \". \", surah.name, \" (\", surah.arabicName, \")\"]\n          }, surah.number, true, {\n            fileName: _jsxFileName,\n            lineNumber: 344,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 335,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 333,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"settings-buttons\",\n        children: [settings.startedDate && /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-secondary\",\n          onClick: () => setView('dashboard'),\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 353,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-primary\",\n          onClick: startPlan,\n          children: [/*#__PURE__*/_jsxDEV(Target, {\n            size: 18\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 358,\n            columnNumber: 13\n          }, this), settings.startedDate ? 'Save Changes' : 'Start Plan']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 357,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 351,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"style\", {\n        children: `\n          .memorization-settings { animation: fadeIn 0.3s ease-out; }\n          .settings-header {\n            text-align: center;\n            padding: 30px 20px;\n            background: var(--bg-surface);\n            border-radius: 16px;\n            margin-bottom: 20px;\n          }\n          .settings-header .icon { color: var(--gold); margin-bottom: 12px; }\n          .settings-header h2 { font-size: 22px; margin-bottom: 8px; }\n          .settings-header p { color: var(--text-muted); font-size: 14px; }\n          .setting-option {\n            background: var(--bg-surface);\n            padding: 20px;\n            border-radius: 12px;\n            margin-bottom: 12px;\n          }\n          .setting-option label {\n            display: block;\n            font-size: 14px;\n            font-weight: 600;\n            margin-bottom: 12px;\n          }\n          .number-selector {\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            gap: 20px;\n          }\n          .number-selector button {\n            width: 44px;\n            height: 44px;\n            border-radius: 12px;\n            background: var(--bg-surface-light);\n            border: none;\n            color: var(--text-primary);\n            cursor: pointer;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n          }\n          .number-selector button:hover {\n            background: var(--primary);\n            color: var(--gold);\n          }\n          .number-value {\n            font-size: 32px;\n            font-weight: 700;\n            font-family: 'Space Grotesk', sans-serif;\n            color: var(--gold);\n            min-width: 60px;\n            text-align: center;\n          }\n          .helper-text {\n            display: block;\n            text-align: center;\n            font-size: 12px;\n            color: var(--text-muted);\n            margin-top: 10px;\n          }\n          select {\n            width: 100%;\n            padding: 14px;\n            background: var(--bg-surface-light);\n            border: none;\n            border-radius: 10px;\n            color: var(--text-primary);\n            font-size: 14px;\n          }\n          .settings-buttons {\n            display: flex;\n            gap: 12px;\n            margin-top: 20px;\n          }\n          .settings-buttons .btn { flex: 1; padding: 16px; }\n        `\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 363,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 298,\n      columnNumber: 7\n    }, this);\n  }\n\n  // Dashboard View\n  if (view === 'dashboard') {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"memorization-dashboard\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"quran-progress-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"progress-header-row\",\n          children: [/*#__PURE__*/_jsxDEV(BookOpen, {\n            size: 20\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 451,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Quran Memorization Progress\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 452,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 450,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"big-progress-bar\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"progress-fill\",\n            style: {\n              width: `${quranProgress}%`\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 456,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 455,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"progress-stats-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"progress-stat\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"stat-value\",\n              children: progress.memorizedAyats.length\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 461,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"stat-label\",\n              children: \"Memorized\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 462,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 460,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"progress-stat\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"stat-value\",\n              children: masteredCount\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 465,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"stat-label\",\n              children: \"Mastered\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 466,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 464,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"progress-stat\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"stat-value\",\n              children: TOTAL_QURAN_AYAHS - progress.memorizedAyats.length\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 469,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"stat-label\",\n              children: \"Remaining\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 470,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 468,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 459,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"percentage-display\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"percentage\",\n            children: [quranProgress.toFixed(2), \"%\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 475,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"of-quran\",\n            children: \"of the Quran\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 476,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 474,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 449,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"stats-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-item\",\n          children: [/*#__PURE__*/_jsxDEV(Flame, {\n            size: 20,\n            className: \"flame\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 483,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"stat-value\",\n              children: progress.streak\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 485,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"stat-label\",\n              children: \"Day Streak\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 486,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 484,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 482,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-item\",\n          children: [/*#__PURE__*/_jsxDEV(Star, {\n            size: 20,\n            className: \"star\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 490,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"stat-value\",\n              children: progress.points\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 492,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"stat-label\",\n              children: \"Points\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 493,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 491,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 489,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stat-item\",\n          children: [/*#__PURE__*/_jsxDEV(Trophy, {\n            size: 20,\n            className: \"trophy\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 497,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"stat-value\",\n              children: Math.floor(progress.memorizedAyats.length / 100)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 499,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"stat-label\",\n              children: \"Milestones\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 500,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 498,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 496,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 481,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"daily-goals\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"goals-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Today's Goals\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 508,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"settings-btn\",\n            onClick: () => setView('settings'),\n            children: /*#__PURE__*/_jsxDEV(Settings, {\n              size: 18\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 510,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 509,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 507,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"goal-card\",\n          onClick: () => setView('memorize'),\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"goal-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"goal-emoji\",\n              children: \"\\uD83D\\uDCD6\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 516,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: \"New Memorization\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 518,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"goal-progress\",\n                children: [progress.todayNew, \" / \", settings.dailyNewAyats, \" ayahs\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 519,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 517,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 515,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"goal-bar\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"goal-fill\",\n              style: {\n                width: `${dailyGoalProgress.new}%`\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 525,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 524,\n            columnNumber: 13\n          }, this), progress.todayNew < settings.dailyNewAyats ? /*#__PURE__*/_jsxDEV(ChevronRight, {\n            size: 20,\n            className: \"chevron\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 528,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(Check, {\n            size: 20,\n            className: \"check-icon\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 530,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 514,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"goal-card\",\n          onClick: () => setView('review'),\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"goal-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"goal-emoji\",\n              children: \"\\uD83D\\uDD04\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 536,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: \"Review\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 538,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"goal-progress\",\n                children: [progress.todayReviewed, \" / \", settings.dailyReviewAyats, \" ayahs\", reviewDueCount > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"due-badge\",\n                  children: [reviewDueCount, \" due\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 541,\n                  columnNumber: 42\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 539,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 537,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 535,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"goal-bar review\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"goal-fill\",\n              style: {\n                width: `${dailyGoalProgress.review}%`\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 546,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 545,\n            columnNumber: 13\n          }, this), progress.todayReviewed < settings.dailyReviewAyats ? /*#__PURE__*/_jsxDEV(ChevronRight, {\n            size: 20,\n            className: \"chevron\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 549,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(Check, {\n            size: 20,\n            className: \"check-icon\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 551,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 534,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 506,\n        columnNumber: 9\n      }, this), dailyGoalProgress.new >= 100 && dailyGoalProgress.review >= 100 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"completion-banner\",\n        children: [/*#__PURE__*/_jsxDEV(Award, {\n          size: 24\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 559,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"Daily Goal Complete! \\uD83C\\uDF89\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 561,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"+20 bonus points \\u2022 Streak: \", progress.streak, \" days\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 562,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 560,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 558,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"quick-actions\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"action-btn primary\",\n          onClick: () => setView('memorize'),\n          children: [/*#__PURE__*/_jsxDEV(Plus, {\n            size: 18\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 570,\n            columnNumber: 13\n          }, this), \"Memorize New\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 569,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"action-btn secondary\",\n          onClick: () => setView('review'),\n          children: [/*#__PURE__*/_jsxDEV(Calendar, {\n            size: 18\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 574,\n            columnNumber: 13\n          }, this), \"Review (\", reviewDueCount, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 573,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 568,\n        columnNumber: 9\n      }, this), progress.memorizedAyats.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"recent-activity\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Recently Memorized\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 582,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"recent-list\",\n          children: progress.memorizedAyats.slice(-5).reverse().map(ayah => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"recent-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"ayah-ref\",\n              children: ayah.id\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 586,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: `status-badge ${ayah.status}`,\n              children: ayah.status === 'mastered' ? '⭐' : ayah.status === 'reviewed' ? '✓' : '●'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 587,\n              columnNumber: 19\n            }, this)]\n          }, ayah.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 585,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 583,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 581,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"style\", {\n        children: `\n          .memorization-dashboard { animation: fadeIn 0.3s ease-out; }\n          \n          .quran-progress-card {\n            background: linear-gradient(135deg, var(--primary) 0%, #1a4a3a 100%);\n            padding: 24px;\n            border-radius: 20px;\n            margin-bottom: 16px;\n          }\n          .progress-header-row {\n            display: flex;\n            align-items: center;\n            gap: 10px;\n            margin-bottom: 16px;\n          }\n          .progress-header-row svg { color: var(--gold); }\n          .progress-header-row h3 { font-size: 16px; }\n          .big-progress-bar {\n            height: 12px;\n            background: rgba(0,0,0,0.3);\n            border-radius: 6px;\n            overflow: hidden;\n            margin-bottom: 16px;\n          }\n          .big-progress-bar .progress-fill {\n            height: 100%;\n            background: linear-gradient(90deg, var(--gold), #27ae60);\n            border-radius: 6px;\n            transition: width 0.5s ease;\n          }\n          .progress-stats-row {\n            display: flex;\n            justify-content: space-between;\n            margin-bottom: 12px;\n          }\n          .progress-stat { text-align: center; }\n          .progress-stat .stat-value {\n            display: block;\n            font-size: 18px;\n            font-weight: 700;\n            font-family: 'Space Grotesk', sans-serif;\n          }\n          .progress-stat .stat-label {\n            font-size: 11px;\n            color: var(--text-secondary);\n          }\n          .percentage-display {\n            text-align: center;\n            padding-top: 12px;\n            border-top: 1px solid rgba(255,255,255,0.1);\n          }\n          .percentage {\n            font-size: 28px;\n            font-weight: 700;\n            color: var(--gold);\n            font-family: 'Space Grotesk', sans-serif;\n          }\n          .of-quran {\n            display: block;\n            font-size: 12px;\n            color: var(--text-muted);\n          }\n          \n          .stats-header {\n            display: flex;\n            justify-content: space-between;\n            background: var(--bg-surface);\n            padding: 16px;\n            border-radius: 14px;\n            margin-bottom: 16px;\n          }\n          .stat-item {\n            display: flex;\n            align-items: center;\n            gap: 10px;\n          }\n          .stat-item .flame { color: #e74c3c; }\n          .stat-item .star { color: var(--gold); }\n          .stat-item .trophy { color: #3498db; }\n          .stat-item .stat-value {\n            display: block;\n            font-size: 18px;\n            font-weight: 700;\n          }\n          .stat-item .stat-label {\n            font-size: 10px;\n            color: var(--text-muted);\n          }\n          \n          .daily-goals {\n            background: var(--bg-surface);\n            border-radius: 16px;\n            padding: 20px;\n            margin-bottom: 16px;\n          }\n          .goals-header {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            margin-bottom: 16px;\n          }\n          .goals-header h3 { font-size: 16px; }\n          .settings-btn {\n            background: var(--bg-surface-light);\n            border: none;\n            width: 36px;\n            height: 36px;\n            border-radius: 10px;\n            color: var(--text-muted);\n            cursor: pointer;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n          }\n          .goal-card {\n            display: flex;\n            align-items: center;\n            gap: 12px;\n            padding: 16px;\n            background: var(--bg-surface-light);\n            border-radius: 12px;\n            margin-bottom: 10px;\n            cursor: pointer;\n            transition: all 0.2s ease;\n          }\n          .goal-card:hover { background: var(--bg-primary); }\n          .goal-info {\n            display: flex;\n            align-items: center;\n            gap: 12px;\n            flex: 1;\n          }\n          .goal-emoji { font-size: 24px; }\n          .goal-info h4 { font-size: 14px; margin-bottom: 2px; }\n          .goal-progress { font-size: 12px; color: var(--text-muted); }\n          .due-badge {\n            background: var(--gold);\n            color: var(--bg-primary);\n            padding: 2px 8px;\n            border-radius: 10px;\n            font-size: 10px;\n            font-weight: 600;\n            margin-left: 8px;\n          }\n          .goal-bar {\n            width: 60px;\n            height: 6px;\n            background: var(--bg-surface);\n            border-radius: 3px;\n            overflow: hidden;\n          }\n          .goal-fill {\n            height: 100%;\n            background: var(--gold);\n            transition: width 0.3s ease;\n          }\n          .goal-bar.review .goal-fill { background: #3498db; }\n          .chevron { color: var(--text-muted); }\n          .check-icon { color: var(--success); }\n          \n          .completion-banner {\n            display: flex;\n            align-items: center;\n            gap: 16px;\n            background: linear-gradient(135deg, rgba(46,204,113,0.2) 0%, rgba(46,204,113,0.05) 100%);\n            border: 1px solid rgba(46,204,113,0.3);\n            padding: 16px;\n            border-radius: 14px;\n            margin-bottom: 16px;\n          }\n          .completion-banner svg { color: var(--success); }\n          .completion-banner h4 { font-size: 14px; color: var(--success); }\n          .completion-banner p { font-size: 12px; color: var(--text-muted); }\n          \n          .quick-actions {\n            display: grid;\n            grid-template-columns: 1fr 1fr;\n            gap: 12px;\n            margin-bottom: 16px;\n          }\n          .action-btn {\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            gap: 8px;\n            padding: 16px;\n            border: none;\n            border-radius: 12px;\n            font-size: 14px;\n            font-weight: 600;\n            cursor: pointer;\n          }\n          .action-btn.primary {\n            background: var(--gold);\n            color: var(--bg-primary);\n          }\n          .action-btn.secondary {\n            background: var(--bg-surface);\n            color: var(--text-primary);\n          }\n          \n          .recent-activity {\n            background: var(--bg-surface);\n            padding: 16px;\n            border-radius: 14px;\n          }\n          .recent-activity h3 {\n            font-size: 14px;\n            color: var(--text-secondary);\n            margin-bottom: 12px;\n          }\n          .recent-list { display: flex; flex-direction: column; gap: 8px; }\n          .recent-item {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            padding: 10px 12px;\n            background: var(--bg-surface-light);\n            border-radius: 8px;\n            font-size: 13px;\n          }\n          .status-badge.memorized { color: var(--gold); }\n          .status-badge.reviewed { color: var(--success); }\n          .status-badge.mastered { color: var(--gold); }\n          \n          .loading-state {\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            justify-content: center;\n            padding: 60px;\n          }\n          .spinner {\n            width: 40px;\n            height: 40px;\n            border: 3px solid var(--bg-surface-light);\n            border-top-color: var(--gold);\n            border-radius: 50%;\n            animation: spin 1s linear infinite;\n            margin-bottom: 16px;\n          }\n          @keyframes spin { to { transform: rotate(360deg); } }\n          @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }\n        `\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 596,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 447,\n      columnNumber: 7\n    }, this);\n  }\n\n  // Memorize View\n  if (view === 'memorize') {\n    const currentAyah = todayAyahs[currentAyahIndex];\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"memorize-view\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"back-btn\",\n        onClick: () => setView('dashboard'),\n        children: [/*#__PURE__*/_jsxDEV(ChevronLeft, {\n          size: 18\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 851,\n          columnNumber: 11\n        }, this), \" Back\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 850,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"progress-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"Ayah \", currentAyahIndex + 1, \" of \", todayAyahs.length]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 855,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"progress-dots\",\n          children: todayAyahs.map((_, i) => /*#__PURE__*/_jsxDEV(\"span\", {\n            className: `dot ${i < currentAyahIndex ? 'done' : i === currentAyahIndex ? 'current' : ''}`\n          }, i, false, {\n            fileName: _jsxFileName,\n            lineNumber: 858,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 856,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 854,\n        columnNumber: 9\n      }, this), currentAyah ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"ayah-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ayah-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: currentAyah.surahName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 869,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"Ayah \", currentAyah.numberInSurah]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 870,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 868,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"arabic ayah-text\",\n          children: currentAyah.text\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 872,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 867,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"no-ayahs\",\n        children: [/*#__PURE__*/_jsxDEV(Check, {\n          size: 48\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 876,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"All Done!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 877,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"You've memorized all available ayahs in this surah, or today's goal is complete.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 878,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-primary\",\n          onClick: () => setView('dashboard'),\n          children: \"Back to Dashboard\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 879,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 875,\n        columnNumber: 11\n      }, this), currentAyah && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"memorize-actions\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-secondary\",\n          onClick: () => setCurrentAyahIndex(Math.max(0, currentAyahIndex - 1)),\n          disabled: currentAyahIndex === 0,\n          children: [/*#__PURE__*/_jsxDEV(ChevronLeft, {\n            size: 18\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 892,\n            columnNumber: 15\n          }, this), \" Previous\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 887,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-primary\",\n          onClick: () => {\n            if (currentAyah) {\n              markAyahMemorized(settings.currentSurah, currentAyah.numberInSurah, currentAyah.text);\n            }\n            if (currentAyahIndex < todayAyahs.length - 1) {\n              setCurrentAyahIndex(currentAyahIndex + 1);\n            } else {\n              setView('dashboard');\n            }\n          },\n          children: [/*#__PURE__*/_jsxDEV(Check, {\n            size: 18\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 908,\n            columnNumber: 15\n          }, this), currentAyahIndex < todayAyahs.length - 1 ? 'Memorized' : 'Complete']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 895,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 886,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"style\", {\n        children: `\n          .memorize-view { animation: fadeIn 0.3s ease-out; }\n          .back-btn {\n            display: flex;\n            align-items: center;\n            gap: 4px;\n            background: none;\n            border: none;\n            color: var(--gold);\n            font-size: 14px;\n            cursor: pointer;\n            margin-bottom: 16px;\n          }\n          .progress-header {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            margin-bottom: 20px;\n          }\n          .progress-header span { font-size: 13px; color: var(--text-muted); }\n          .progress-dots { display: flex; gap: 6px; }\n          .dot {\n            width: 8px;\n            height: 8px;\n            border-radius: 50%;\n            background: var(--bg-surface-light);\n          }\n          .dot.done { background: var(--success); }\n          .dot.current { background: var(--gold); }\n          .ayah-card {\n            background: var(--bg-surface);\n            border-radius: 20px;\n            padding: 24px;\n            margin-bottom: 20px;\n          }\n          .ayah-header {\n            display: flex;\n            justify-content: space-between;\n            font-size: 13px;\n            color: var(--text-muted);\n            margin-bottom: 16px;\n          }\n          .ayah-text {\n            font-size: 28px;\n            line-height: 2.2;\n            text-align: center;\n          }\n          .no-ayahs {\n            text-align: center;\n            padding: 40px 20px;\n            background: var(--bg-surface);\n            border-radius: 20px;\n          }\n          .no-ayahs svg { color: var(--success); margin-bottom: 16px; }\n          .no-ayahs h3 { margin-bottom: 8px; }\n          .no-ayahs p { color: var(--text-muted); font-size: 14px; margin-bottom: 20px; }\n          .memorize-actions {\n            display: flex;\n            gap: 12px;\n          }\n          .memorize-actions .btn { flex: 1; padding: 16px; }\n          .btn {\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            gap: 8px;\n            border: none;\n            border-radius: 12px;\n            font-size: 14px;\n            font-weight: 600;\n            cursor: pointer;\n          }\n          .btn-primary {\n            background: var(--gold);\n            color: var(--bg-primary);\n          }\n          .btn-secondary {\n            background: var(--bg-surface);\n            color: var(--text-primary);\n          }\n          .btn:disabled {\n            opacity: 0.5;\n            cursor: not-allowed;\n          }\n        `\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 914,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 849,\n      columnNumber: 7\n    }, this);\n  }\n\n  // Review View\n  if (view === 'review') {\n    const currentReview = reviewAyahs[currentAyahIndex];\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"review-view\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"back-btn\",\n        onClick: () => {\n          setView('dashboard');\n          setCurrentAyahIndex(0);\n        },\n        children: [/*#__PURE__*/_jsxDEV(ChevronLeft, {\n          size: 18\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1010,\n          columnNumber: 11\n        }, this), \" Back\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1009,\n        columnNumber: 9\n      }, this), reviewAyahs.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"no-reviews\",\n        children: [/*#__PURE__*/_jsxDEV(Check, {\n          size: 48\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1015,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"No Reviews Due!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1016,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Great job! All your memorized ayahs are up to date. Check back tomorrow.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1017,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-primary\",\n          onClick: () => setView('dashboard'),\n          children: \"Back to Dashboard\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1018,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1014,\n        columnNumber: 11\n      }, this) : currentReview ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"progress-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"Review \", currentAyahIndex + 1, \" of \", reviewAyahs.length]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1025,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"review-count\",\n            children: [\"Reviewed \", currentReview.reviewCount, \"x\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1026,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1024,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"review-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"arabic review-text\",\n            children: [currentReview.text, \"...\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1030,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"review-ref\",\n            children: [currentReview.surah, \":\", currentReview.ayahNum]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1031,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1029,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"review-prompt\",\n          children: \"How well did you remember this?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1034,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"review-actions\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-error\",\n            onClick: () => {\n              markAyahReviewed(currentReview.id, false);\n              if (currentAyahIndex < reviewAyahs.length - 1) {\n                setCurrentAyahIndex(currentAyahIndex + 1);\n              } else {\n                setView('dashboard');\n                setCurrentAyahIndex(0);\n              }\n            },\n            children: \"Hard \\uD83D\\uDE13\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1037,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-warning\",\n            onClick: () => {\n              markAyahReviewed(currentReview.id, true);\n              if (currentAyahIndex < reviewAyahs.length - 1) {\n                setCurrentAyahIndex(currentAyahIndex + 1);\n              } else {\n                setView('dashboard');\n                setCurrentAyahIndex(0);\n              }\n            },\n            children: \"Good \\uD83D\\uDC4D\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1052,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-success\",\n            onClick: () => {\n              markAyahReviewed(currentReview.id, true);\n              if (currentAyahIndex < reviewAyahs.length - 1) {\n                setCurrentAyahIndex(currentAyahIndex + 1);\n              } else {\n                setView('dashboard');\n                setCurrentAyahIndex(0);\n              }\n            },\n            children: \"Easy \\u2B50\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1067,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1036,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true) : null, /*#__PURE__*/_jsxDEV(\"style\", {\n        children: `\n          .review-view { animation: fadeIn 0.3s ease-out; }\n          .back-btn {\n            display: flex;\n            align-items: center;\n            gap: 4px;\n            background: none;\n            border: none;\n            color: var(--gold);\n            font-size: 14px;\n            cursor: pointer;\n            margin-bottom: 16px;\n          }\n          .no-reviews {\n            text-align: center;\n            padding: 40px 20px;\n            background: var(--bg-surface);\n            border-radius: 20px;\n          }\n          .no-reviews svg { color: var(--success); margin-bottom: 16px; }\n          .no-reviews h3 { margin-bottom: 8px; }\n          .no-reviews p { color: var(--text-muted); font-size: 14px; margin-bottom: 20px; }\n          .progress-header {\n            display: flex;\n            justify-content: space-between;\n            margin-bottom: 20px;\n          }\n          .progress-header span { font-size: 13px; color: var(--text-muted); }\n          .review-count {\n            background: var(--primary);\n            padding: 4px 10px;\n            border-radius: 10px;\n            color: var(--gold);\n          }\n          .review-card {\n            background: var(--bg-surface);\n            border-radius: 20px;\n            padding: 30px;\n            text-align: center;\n            margin-bottom: 20px;\n          }\n          .review-text {\n            font-size: 24px;\n            line-height: 2;\n            margin-bottom: 16px;\n          }\n          .review-ref {\n            font-size: 12px;\n            color: var(--gold);\n            background: var(--primary);\n            padding: 4px 12px;\n            border-radius: 10px;\n          }\n          .review-prompt {\n            text-align: center;\n            color: var(--text-secondary);\n            margin-bottom: 16px;\n            font-size: 14px;\n          }\n          .review-actions {\n            display: grid;\n            grid-template-columns: repeat(3, 1fr);\n            gap: 10px;\n          }\n          .btn-error {\n            background: rgba(231,76,60,0.2);\n            color: var(--error);\n            padding: 16px;\n            border-radius: 12px;\n            font-weight: 600;\n          }\n          .btn-warning {\n            background: rgba(241,196,15,0.2);\n            color: var(--warning);\n            padding: 16px;\n            border-radius: 12px;\n            font-weight: 600;\n          }\n          .btn-success {\n            background: rgba(46,204,113,0.2);\n            color: var(--success);\n            padding: 16px;\n            border-radius: 12px;\n            font-weight: 600;\n          }\n        `\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1085,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1008,\n      columnNumber: 7\n    }, this);\n  }\n  return null;\n}\n_s(MemorizationPlan, \"Xp85sFFHS3od5X4dtxir0rRGvL8=\", false, function () {\n  return [useAuth];\n});\n_c = MemorizationPlan;\nexport default MemorizationPlan;\nvar _c;\n$RefreshReg$(_c, \"MemorizationPlan\");","map":{"version":3,"names":["React","useState","useEffect","useAuth","doc","getDoc","setDoc","updateDoc","db","Target","Check","Settings","BookOpen","Award","Flame","ChevronRight","ChevronLeft","Plus","Minus","Calendar","Star","BarChart3","Trophy","SURAHS","jsxDEV","_jsxDEV","Fragment","_Fragment","REVIEW_INTERVALS","TOTAL_QURAN_AYAHS","JUZ_DATA","juz","startSurah","endSurah","ayahs","MemorizationPlan","_s","user","settings","setSettings","dailyNewAyats","dailyReviewAyats","currentSurah","currentAyah","startedDate","progress","setProgress","memorizedAyats","todayNew","todayReviewed","lastActiveDate","streak","points","totalMemorized","todayAyahs","setTodayAyahs","reviewAyahs","setReviewAyahs","loading","setLoading","view","setView","currentAyahIndex","setCurrentAyahIndex","loadUserData","docRef","uid","docSnap","exists","_data$progress","data","today","Date","toDateString","newProgress","merge","initialData","error","console","saveUserData","newSettings","updatedAt","toISOString","getReviewAyahs","dueAyahs","filter","ayah","nextReview","reviewDate","slice","getNextReviewDate","reviewCount","interval","Math","min","length","nextDate","setDate","getDate","markAyahMemorized","surah","ayahNum","ayahText","ayahId","existingIndex","findIndex","a","id","updatedAyats","push","text","substring","memorizedAt","lastReviewed","status","checkDailyGoal","markAyahReviewed","correct","map","newReviewCount","max","currentProgress","goalMet","newStreak","bonusPoints","updatedProgress","fetchNewAyahs","response","fetch","json","surahAyahs","memorizedIds","Set","availableAyahs","has","numberInSurah","newAyahs","_SURAHS$find","surahNum","surahName","find","s","number","name","startPlan","dailyGoalProgress","new","review","reviewDueCount","quranProgress","masteredCount","className","children","fileName","_jsxFileName","lineNumber","columnNumber","size","onClick","p","value","onChange","e","parseInt","target","reverse","arabicName","style","width","toFixed","floor","_","i","disabled","currentReview","_c","$RefreshReg$"],"sources":["/Users/abdullahinor/Desktop/Qawwam/client/src/components/MemorizationPlan.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useAuth } from '../context/AuthContext';\nimport { doc, getDoc, setDoc, updateDoc } from 'firebase/firestore';\nimport { db } from '../config/firebase';\nimport { \n  Target, Check, Settings, BookOpen, Award, Flame, \n  ChevronRight, ChevronLeft, Plus, Minus, Calendar, Star,\n  BarChart3, Trophy\n} from 'lucide-react';\nimport { SURAHS } from './QuranReader';\n\n// Spaced repetition intervals (in days)\nconst REVIEW_INTERVALS = [1, 3, 7, 14, 30, 60];\n\n// Total ayahs in the Quran\nconst TOTAL_QURAN_AYAHS = 6236;\n\n// Juz breakdown (approximate ayah ranges)\nconst JUZ_DATA = [\n  { juz: 1, startSurah: 1, endSurah: 2, ayahs: 148 },\n  { juz: 2, startSurah: 2, endSurah: 2, ayahs: 141 },\n  { juz: 3, startSurah: 2, endSurah: 3, ayahs: 126 },\n  // ... simplified for demo\n  { juz: 30, startSurah: 78, endSurah: 114, ayahs: 564 },\n];\n\nfunction MemorizationPlan() {\n  const { user } = useAuth();\n  \n  const [settings, setSettings] = useState({\n    dailyNewAyats: 5,\n    dailyReviewAyats: 10,\n    currentSurah: 114,\n    currentAyah: 1,\n    startedDate: null\n  });\n\n  const [progress, setProgress] = useState({\n    memorizedAyats: [], // Array of { id, surah, ayahNum, text, memorizedAt, reviewCount, nextReview, lastReviewed }\n    todayNew: 0,\n    todayReviewed: 0,\n    lastActiveDate: null,\n    streak: 0,\n    points: 0,\n    totalMemorized: 0\n  });\n\n  const [todayAyahs, setTodayAyahs] = useState([]);\n  const [reviewAyahs, setReviewAyahs] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [view, setView] = useState('dashboard'); // dashboard, memorize, review, settings\n  const [currentAyahIndex, setCurrentAyahIndex] = useState(0);\n\n  // Load user's memorization data from Firestore\n  useEffect(() => {\n    if (user) {\n      loadUserData();\n    }\n  }, [user]);\n\n  const loadUserData = async () => {\n    if (!user) return;\n    setLoading(true);\n    \n    try {\n      const docRef = doc(db, 'users', user.uid, 'quran', 'memorization');\n      const docSnap = await getDoc(docRef);\n      \n      if (docSnap.exists()) {\n        const data = docSnap.data();\n        setSettings(data.settings || settings);\n        setProgress(data.progress || progress);\n        \n        // Check if new day - reset daily counters\n        const today = new Date().toDateString();\n        if (data.progress?.lastActiveDate !== today) {\n          const newProgress = {\n            ...data.progress,\n            todayNew: 0,\n            todayReviewed: 0,\n            lastActiveDate: today\n          };\n          setProgress(newProgress);\n          // Save the reset\n          await setDoc(docRef, { \n            settings: data.settings || settings, \n            progress: newProgress \n          }, { merge: true });\n        }\n      } else {\n        // Initialize new user data\n        const initialData = {\n          settings,\n          progress: {\n            ...progress,\n            lastActiveDate: new Date().toDateString()\n          }\n        };\n        await setDoc(docRef, initialData);\n      }\n    } catch (error) {\n      console.error('Error loading memorization data:', error);\n    }\n    setLoading(false);\n  };\n\n  const saveUserData = async (newSettings, newProgress) => {\n    if (!user) return;\n    try {\n      const docRef = doc(db, 'users', user.uid, 'quran', 'memorization');\n      await setDoc(docRef, {\n        settings: newSettings || settings,\n        progress: newProgress || progress,\n        updatedAt: new Date().toISOString()\n      }, { merge: true });\n    } catch (error) {\n      console.error('Error saving memorization data:', error);\n    }\n  };\n\n  // Get ayahs due for review (spaced repetition)\n  const getReviewAyahs = () => {\n    const today = new Date();\n    const dueAyahs = progress.memorizedAyats.filter(ayah => {\n      if (!ayah.nextReview) return false;\n      const reviewDate = new Date(ayah.nextReview);\n      return reviewDate <= today;\n    });\n    return dueAyahs.slice(0, settings.dailyReviewAyats);\n  };\n\n  // Calculate next review date based on review count\n  const getNextReviewDate = (reviewCount) => {\n    const interval = REVIEW_INTERVALS[Math.min(reviewCount, REVIEW_INTERVALS.length - 1)];\n    const nextDate = new Date();\n    nextDate.setDate(nextDate.getDate() + interval);\n    return nextDate.toISOString();\n  };\n\n  // Mark ayah as memorized\n  const markAyahMemorized = async (surah, ayahNum, ayahText) => {\n    const ayahId = `${surah}:${ayahNum}`;\n    const existingIndex = progress.memorizedAyats.findIndex(a => a.id === ayahId);\n    \n    let updatedAyats = [...progress.memorizedAyats];\n    \n    if (existingIndex === -1) {\n      // New memorization\n      updatedAyats.push({\n        id: ayahId,\n        surah,\n        ayahNum,\n        text: ayahText?.substring(0, 100) || '', // Store preview\n        memorizedAt: new Date().toISOString(),\n        reviewCount: 0,\n        nextReview: getNextReviewDate(0),\n        lastReviewed: null,\n        status: 'memorized'\n      });\n    }\n\n    const newProgress = {\n      ...progress,\n      memorizedAyats: updatedAyats,\n      todayNew: progress.todayNew + 1,\n      points: progress.points + 10,\n      totalMemorized: updatedAyats.length,\n      lastActiveDate: new Date().toDateString()\n    };\n\n    setProgress(newProgress);\n    await saveUserData(settings, newProgress);\n    \n    // Check daily goal\n    checkDailyGoal(newProgress);\n  };\n\n  // Mark ayah as reviewed\n  const markAyahReviewed = async (ayahId, correct) => {\n    const updatedAyats = progress.memorizedAyats.map(ayah => {\n      if (ayah.id === ayahId) {\n        const newReviewCount = correct ? ayah.reviewCount + 1 : Math.max(0, ayah.reviewCount - 1);\n        return {\n          ...ayah,\n          reviewCount: newReviewCount,\n          nextReview: getNextReviewDate(newReviewCount),\n          lastReviewed: new Date().toISOString(),\n          status: newReviewCount >= 5 ? 'mastered' : 'reviewed'\n        };\n      }\n      return ayah;\n    });\n\n    const newProgress = {\n      ...progress,\n      memorizedAyats: updatedAyats,\n      todayReviewed: progress.todayReviewed + 1,\n      points: progress.points + (correct ? 5 : 1),\n      lastActiveDate: new Date().toDateString()\n    };\n\n    setProgress(newProgress);\n    await saveUserData(settings, newProgress);\n    \n    checkDailyGoal(newProgress);\n  };\n\n  // Check if daily goal is met\n  const checkDailyGoal = async (currentProgress) => {\n    const goalMet = currentProgress.todayNew >= settings.dailyNewAyats && \n                    currentProgress.todayReviewed >= settings.dailyReviewAyats;\n    \n    if (goalMet && currentProgress.streak === progress.streak) {\n      // Update streak\n      const newStreak = currentProgress.streak + 1;\n      const bonusPoints = 20; // Bonus for completing daily goal\n      \n      const updatedProgress = {\n        ...currentProgress,\n        streak: newStreak,\n        points: currentProgress.points + bonusPoints\n      };\n      \n      setProgress(updatedProgress);\n      await saveUserData(settings, updatedProgress);\n    }\n  };\n\n  // Fetch ayahs for memorization\n  const fetchNewAyahs = async () => {\n    try {\n      const response = await fetch(\n        `https://api.alquran.cloud/v1/surah/${settings.currentSurah}/ar.alafasy`\n      );\n      const data = await response.json();\n      const surahAyahs = data.data.ayahs;\n      \n      // Get next ayahs to memorize (skip already memorized)\n      const memorizedIds = new Set(progress.memorizedAyats.map(a => a.id));\n      const availableAyahs = surahAyahs.filter(a => \n        !memorizedIds.has(`${settings.currentSurah}:${a.numberInSurah}`)\n      );\n      \n      const newAyahs = availableAyahs.slice(0, settings.dailyNewAyats).map(a => ({\n        ...a,\n        surahNum: settings.currentSurah,\n        surahName: SURAHS.find(s => s.number === settings.currentSurah)?.name\n      }));\n      \n      setTodayAyahs(newAyahs);\n    } catch (error) {\n      console.error('Error fetching ayahs:', error);\n    }\n  };\n\n  useEffect(() => {\n    if (settings.startedDate && view === 'memorize') {\n      fetchNewAyahs();\n    }\n    if (view === 'review') {\n      setReviewAyahs(getReviewAyahs());\n    }\n  }, [settings, view, progress.memorizedAyats]);\n\n  const startPlan = async () => {\n    const newSettings = {\n      ...settings,\n      startedDate: new Date().toISOString()\n    };\n    setSettings(newSettings);\n    await saveUserData(newSettings, progress);\n    setView('dashboard');\n  };\n\n  const dailyGoalProgress = {\n    new: Math.min((progress.todayNew / settings.dailyNewAyats) * 100, 100),\n    review: Math.min((progress.todayReviewed / settings.dailyReviewAyats) * 100, 100)\n  };\n\n  const reviewDueCount = getReviewAyahs().length;\n  \n  // Calculate overall Quran progress\n  const quranProgress = ((progress.totalMemorized || progress.memorizedAyats.length) / TOTAL_QURAN_AYAHS) * 100;\n  const masteredCount = progress.memorizedAyats.filter(a => a.status === 'mastered').length;\n\n  if (loading) {\n    return (\n      <div className=\"loading-state\">\n        <div className=\"spinner\" />\n        <p>Loading your progress...</p>\n      </div>\n    );\n  }\n\n  // Settings View\n  if (view === 'settings' || !settings.startedDate) {\n    return (\n      <div className=\"memorization-settings\">\n        <div className=\"settings-header\">\n          <Target size={32} className=\"icon\" />\n          <h2>{settings.startedDate ? 'Adjust Goals' : 'Set Your Goals'}</h2>\n          <p>Customize your daily memorization targets</p>\n        </div>\n\n        <div className=\"setting-option\">\n          <label>New Ayahs Per Day</label>\n          <div className=\"number-selector\">\n            <button onClick={() => setSettings(p => ({ ...p, dailyNewAyats: Math.max(1, p.dailyNewAyats - 1) }))}>\n              <Minus size={18} />\n            </button>\n            <span className=\"number-value\">{settings.dailyNewAyats}</span>\n            <button onClick={() => setSettings(p => ({ ...p, dailyNewAyats: Math.min(20, p.dailyNewAyats + 1) }))}>\n              <Plus size={18} />\n            </button>\n          </div>\n          <span className=\"helper-text\">Recommended: 5-10 ayahs/day</span>\n        </div>\n\n        <div className=\"setting-option\">\n          <label>Review Ayahs Per Day</label>\n          <div className=\"number-selector\">\n            <button onClick={() => setSettings(p => ({ ...p, dailyReviewAyats: Math.max(5, p.dailyReviewAyats - 5) }))}>\n              <Minus size={18} />\n            </button>\n            <span className=\"number-value\">{settings.dailyReviewAyats}</span>\n            <button onClick={() => setSettings(p => ({ ...p, dailyReviewAyats: Math.min(50, p.dailyReviewAyats + 5) }))}>\n              <Plus size={18} />\n            </button>\n          </div>\n          <span className=\"helper-text\">Recommended: 10-20 ayahs/day</span>\n        </div>\n\n        <div className=\"setting-option\">\n          <label>Start From Surah</label>\n          <select \n            value={settings.currentSurah}\n            onChange={(e) => setSettings(p => ({ \n              ...p, \n              currentSurah: parseInt(e.target.value),\n              currentAyah: 1\n            }))}\n          >\n            {SURAHS.slice().reverse().map(surah => (\n              <option key={surah.number} value={surah.number}>\n                {surah.number}. {surah.name} ({surah.arabicName})\n              </option>\n            ))}\n          </select>\n        </div>\n\n        <div className=\"settings-buttons\">\n          {settings.startedDate && (\n            <button className=\"btn btn-secondary\" onClick={() => setView('dashboard')}>\n              Cancel\n            </button>\n          )}\n          <button className=\"btn btn-primary\" onClick={startPlan}>\n            <Target size={18} />\n            {settings.startedDate ? 'Save Changes' : 'Start Plan'}\n          </button>\n        </div>\n\n        <style>{`\n          .memorization-settings { animation: fadeIn 0.3s ease-out; }\n          .settings-header {\n            text-align: center;\n            padding: 30px 20px;\n            background: var(--bg-surface);\n            border-radius: 16px;\n            margin-bottom: 20px;\n          }\n          .settings-header .icon { color: var(--gold); margin-bottom: 12px; }\n          .settings-header h2 { font-size: 22px; margin-bottom: 8px; }\n          .settings-header p { color: var(--text-muted); font-size: 14px; }\n          .setting-option {\n            background: var(--bg-surface);\n            padding: 20px;\n            border-radius: 12px;\n            margin-bottom: 12px;\n          }\n          .setting-option label {\n            display: block;\n            font-size: 14px;\n            font-weight: 600;\n            margin-bottom: 12px;\n          }\n          .number-selector {\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            gap: 20px;\n          }\n          .number-selector button {\n            width: 44px;\n            height: 44px;\n            border-radius: 12px;\n            background: var(--bg-surface-light);\n            border: none;\n            color: var(--text-primary);\n            cursor: pointer;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n          }\n          .number-selector button:hover {\n            background: var(--primary);\n            color: var(--gold);\n          }\n          .number-value {\n            font-size: 32px;\n            font-weight: 700;\n            font-family: 'Space Grotesk', sans-serif;\n            color: var(--gold);\n            min-width: 60px;\n            text-align: center;\n          }\n          .helper-text {\n            display: block;\n            text-align: center;\n            font-size: 12px;\n            color: var(--text-muted);\n            margin-top: 10px;\n          }\n          select {\n            width: 100%;\n            padding: 14px;\n            background: var(--bg-surface-light);\n            border: none;\n            border-radius: 10px;\n            color: var(--text-primary);\n            font-size: 14px;\n          }\n          .settings-buttons {\n            display: flex;\n            gap: 12px;\n            margin-top: 20px;\n          }\n          .settings-buttons .btn { flex: 1; padding: 16px; }\n        `}</style>\n      </div>\n    );\n  }\n\n  // Dashboard View\n  if (view === 'dashboard') {\n    return (\n      <div className=\"memorization-dashboard\">\n        {/* Overall Quran Progress */}\n        <div className=\"quran-progress-card\">\n          <div className=\"progress-header-row\">\n            <BookOpen size={20} />\n            <h3>Quran Memorization Progress</h3>\n          </div>\n          \n          <div className=\"big-progress-bar\">\n            <div className=\"progress-fill\" style={{ width: `${quranProgress}%` }} />\n          </div>\n          \n          <div className=\"progress-stats-row\">\n            <div className=\"progress-stat\">\n              <span className=\"stat-value\">{progress.memorizedAyats.length}</span>\n              <span className=\"stat-label\">Memorized</span>\n            </div>\n            <div className=\"progress-stat\">\n              <span className=\"stat-value\">{masteredCount}</span>\n              <span className=\"stat-label\">Mastered</span>\n            </div>\n            <div className=\"progress-stat\">\n              <span className=\"stat-value\">{TOTAL_QURAN_AYAHS - progress.memorizedAyats.length}</span>\n              <span className=\"stat-label\">Remaining</span>\n            </div>\n          </div>\n          \n          <div className=\"percentage-display\">\n            <span className=\"percentage\">{quranProgress.toFixed(2)}%</span>\n            <span className=\"of-quran\">of the Quran</span>\n          </div>\n        </div>\n\n        {/* Stats Header */}\n        <div className=\"stats-header\">\n          <div className=\"stat-item\">\n            <Flame size={20} className=\"flame\" />\n            <div>\n              <span className=\"stat-value\">{progress.streak}</span>\n              <span className=\"stat-label\">Day Streak</span>\n            </div>\n          </div>\n          <div className=\"stat-item\">\n            <Star size={20} className=\"star\" />\n            <div>\n              <span className=\"stat-value\">{progress.points}</span>\n              <span className=\"stat-label\">Points</span>\n            </div>\n          </div>\n          <div className=\"stat-item\">\n            <Trophy size={20} className=\"trophy\" />\n            <div>\n              <span className=\"stat-value\">{Math.floor(progress.memorizedAyats.length / 100)}</span>\n              <span className=\"stat-label\">Milestones</span>\n            </div>\n          </div>\n        </div>\n\n        {/* Daily Goals */}\n        <div className=\"daily-goals\">\n          <div className=\"goals-header\">\n            <h3>Today's Goals</h3>\n            <button className=\"settings-btn\" onClick={() => setView('settings')}>\n              <Settings size={18} />\n            </button>\n          </div>\n\n          <div className=\"goal-card\" onClick={() => setView('memorize')}>\n            <div className=\"goal-info\">\n              <span className=\"goal-emoji\">📖</span>\n              <div>\n                <h4>New Memorization</h4>\n                <span className=\"goal-progress\">\n                  {progress.todayNew} / {settings.dailyNewAyats} ayahs\n                </span>\n              </div>\n            </div>\n            <div className=\"goal-bar\">\n              <div className=\"goal-fill\" style={{ width: `${dailyGoalProgress.new}%` }} />\n            </div>\n            {progress.todayNew < settings.dailyNewAyats ? (\n              <ChevronRight size={20} className=\"chevron\" />\n            ) : (\n              <Check size={20} className=\"check-icon\" />\n            )}\n          </div>\n\n          <div className=\"goal-card\" onClick={() => setView('review')}>\n            <div className=\"goal-info\">\n              <span className=\"goal-emoji\">🔄</span>\n              <div>\n                <h4>Review</h4>\n                <span className=\"goal-progress\">\n                  {progress.todayReviewed} / {settings.dailyReviewAyats} ayahs\n                  {reviewDueCount > 0 && <span className=\"due-badge\">{reviewDueCount} due</span>}\n                </span>\n              </div>\n            </div>\n            <div className=\"goal-bar review\">\n              <div className=\"goal-fill\" style={{ width: `${dailyGoalProgress.review}%` }} />\n            </div>\n            {progress.todayReviewed < settings.dailyReviewAyats ? (\n              <ChevronRight size={20} className=\"chevron\" />\n            ) : (\n              <Check size={20} className=\"check-icon\" />\n            )}\n          </div>\n        </div>\n\n        {/* Goal Completion Banner */}\n        {dailyGoalProgress.new >= 100 && dailyGoalProgress.review >= 100 && (\n          <div className=\"completion-banner\">\n            <Award size={24} />\n            <div>\n              <h4>Daily Goal Complete! 🎉</h4>\n              <p>+20 bonus points • Streak: {progress.streak} days</p>\n            </div>\n          </div>\n        )}\n\n        {/* Quick Actions */}\n        <div className=\"quick-actions\">\n          <button className=\"action-btn primary\" onClick={() => setView('memorize')}>\n            <Plus size={18} />\n            Memorize New\n          </button>\n          <button className=\"action-btn secondary\" onClick={() => setView('review')}>\n            <Calendar size={18} />\n            Review ({reviewDueCount})\n          </button>\n        </div>\n\n        {/* Recent Activity */}\n        {progress.memorizedAyats.length > 0 && (\n          <div className=\"recent-activity\">\n            <h3>Recently Memorized</h3>\n            <div className=\"recent-list\">\n              {progress.memorizedAyats.slice(-5).reverse().map(ayah => (\n                <div key={ayah.id} className=\"recent-item\">\n                  <span className=\"ayah-ref\">{ayah.id}</span>\n                  <span className={`status-badge ${ayah.status}`}>\n                    {ayah.status === 'mastered' ? '⭐' : ayah.status === 'reviewed' ? '✓' : '●'}\n                  </span>\n                </div>\n              ))}\n            </div>\n          </div>\n        )}\n\n        <style>{`\n          .memorization-dashboard { animation: fadeIn 0.3s ease-out; }\n          \n          .quran-progress-card {\n            background: linear-gradient(135deg, var(--primary) 0%, #1a4a3a 100%);\n            padding: 24px;\n            border-radius: 20px;\n            margin-bottom: 16px;\n          }\n          .progress-header-row {\n            display: flex;\n            align-items: center;\n            gap: 10px;\n            margin-bottom: 16px;\n          }\n          .progress-header-row svg { color: var(--gold); }\n          .progress-header-row h3 { font-size: 16px; }\n          .big-progress-bar {\n            height: 12px;\n            background: rgba(0,0,0,0.3);\n            border-radius: 6px;\n            overflow: hidden;\n            margin-bottom: 16px;\n          }\n          .big-progress-bar .progress-fill {\n            height: 100%;\n            background: linear-gradient(90deg, var(--gold), #27ae60);\n            border-radius: 6px;\n            transition: width 0.5s ease;\n          }\n          .progress-stats-row {\n            display: flex;\n            justify-content: space-between;\n            margin-bottom: 12px;\n          }\n          .progress-stat { text-align: center; }\n          .progress-stat .stat-value {\n            display: block;\n            font-size: 18px;\n            font-weight: 700;\n            font-family: 'Space Grotesk', sans-serif;\n          }\n          .progress-stat .stat-label {\n            font-size: 11px;\n            color: var(--text-secondary);\n          }\n          .percentage-display {\n            text-align: center;\n            padding-top: 12px;\n            border-top: 1px solid rgba(255,255,255,0.1);\n          }\n          .percentage {\n            font-size: 28px;\n            font-weight: 700;\n            color: var(--gold);\n            font-family: 'Space Grotesk', sans-serif;\n          }\n          .of-quran {\n            display: block;\n            font-size: 12px;\n            color: var(--text-muted);\n          }\n          \n          .stats-header {\n            display: flex;\n            justify-content: space-between;\n            background: var(--bg-surface);\n            padding: 16px;\n            border-radius: 14px;\n            margin-bottom: 16px;\n          }\n          .stat-item {\n            display: flex;\n            align-items: center;\n            gap: 10px;\n          }\n          .stat-item .flame { color: #e74c3c; }\n          .stat-item .star { color: var(--gold); }\n          .stat-item .trophy { color: #3498db; }\n          .stat-item .stat-value {\n            display: block;\n            font-size: 18px;\n            font-weight: 700;\n          }\n          .stat-item .stat-label {\n            font-size: 10px;\n            color: var(--text-muted);\n          }\n          \n          .daily-goals {\n            background: var(--bg-surface);\n            border-radius: 16px;\n            padding: 20px;\n            margin-bottom: 16px;\n          }\n          .goals-header {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            margin-bottom: 16px;\n          }\n          .goals-header h3 { font-size: 16px; }\n          .settings-btn {\n            background: var(--bg-surface-light);\n            border: none;\n            width: 36px;\n            height: 36px;\n            border-radius: 10px;\n            color: var(--text-muted);\n            cursor: pointer;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n          }\n          .goal-card {\n            display: flex;\n            align-items: center;\n            gap: 12px;\n            padding: 16px;\n            background: var(--bg-surface-light);\n            border-radius: 12px;\n            margin-bottom: 10px;\n            cursor: pointer;\n            transition: all 0.2s ease;\n          }\n          .goal-card:hover { background: var(--bg-primary); }\n          .goal-info {\n            display: flex;\n            align-items: center;\n            gap: 12px;\n            flex: 1;\n          }\n          .goal-emoji { font-size: 24px; }\n          .goal-info h4 { font-size: 14px; margin-bottom: 2px; }\n          .goal-progress { font-size: 12px; color: var(--text-muted); }\n          .due-badge {\n            background: var(--gold);\n            color: var(--bg-primary);\n            padding: 2px 8px;\n            border-radius: 10px;\n            font-size: 10px;\n            font-weight: 600;\n            margin-left: 8px;\n          }\n          .goal-bar {\n            width: 60px;\n            height: 6px;\n            background: var(--bg-surface);\n            border-radius: 3px;\n            overflow: hidden;\n          }\n          .goal-fill {\n            height: 100%;\n            background: var(--gold);\n            transition: width 0.3s ease;\n          }\n          .goal-bar.review .goal-fill { background: #3498db; }\n          .chevron { color: var(--text-muted); }\n          .check-icon { color: var(--success); }\n          \n          .completion-banner {\n            display: flex;\n            align-items: center;\n            gap: 16px;\n            background: linear-gradient(135deg, rgba(46,204,113,0.2) 0%, rgba(46,204,113,0.05) 100%);\n            border: 1px solid rgba(46,204,113,0.3);\n            padding: 16px;\n            border-radius: 14px;\n            margin-bottom: 16px;\n          }\n          .completion-banner svg { color: var(--success); }\n          .completion-banner h4 { font-size: 14px; color: var(--success); }\n          .completion-banner p { font-size: 12px; color: var(--text-muted); }\n          \n          .quick-actions {\n            display: grid;\n            grid-template-columns: 1fr 1fr;\n            gap: 12px;\n            margin-bottom: 16px;\n          }\n          .action-btn {\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            gap: 8px;\n            padding: 16px;\n            border: none;\n            border-radius: 12px;\n            font-size: 14px;\n            font-weight: 600;\n            cursor: pointer;\n          }\n          .action-btn.primary {\n            background: var(--gold);\n            color: var(--bg-primary);\n          }\n          .action-btn.secondary {\n            background: var(--bg-surface);\n            color: var(--text-primary);\n          }\n          \n          .recent-activity {\n            background: var(--bg-surface);\n            padding: 16px;\n            border-radius: 14px;\n          }\n          .recent-activity h3 {\n            font-size: 14px;\n            color: var(--text-secondary);\n            margin-bottom: 12px;\n          }\n          .recent-list { display: flex; flex-direction: column; gap: 8px; }\n          .recent-item {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            padding: 10px 12px;\n            background: var(--bg-surface-light);\n            border-radius: 8px;\n            font-size: 13px;\n          }\n          .status-badge.memorized { color: var(--gold); }\n          .status-badge.reviewed { color: var(--success); }\n          .status-badge.mastered { color: var(--gold); }\n          \n          .loading-state {\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            justify-content: center;\n            padding: 60px;\n          }\n          .spinner {\n            width: 40px;\n            height: 40px;\n            border: 3px solid var(--bg-surface-light);\n            border-top-color: var(--gold);\n            border-radius: 50%;\n            animation: spin 1s linear infinite;\n            margin-bottom: 16px;\n          }\n          @keyframes spin { to { transform: rotate(360deg); } }\n          @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }\n        `}</style>\n      </div>\n    );\n  }\n\n  // Memorize View\n  if (view === 'memorize') {\n    const currentAyah = todayAyahs[currentAyahIndex];\n    \n    return (\n      <div className=\"memorize-view\">\n        <button className=\"back-btn\" onClick={() => setView('dashboard')}>\n          <ChevronLeft size={18} /> Back\n        </button>\n\n        <div className=\"progress-header\">\n          <span>Ayah {currentAyahIndex + 1} of {todayAyahs.length}</span>\n          <div className=\"progress-dots\">\n            {todayAyahs.map((_, i) => (\n              <span \n                key={i} \n                className={`dot ${i < currentAyahIndex ? 'done' : i === currentAyahIndex ? 'current' : ''}`}\n              />\n            ))}\n          </div>\n        </div>\n\n        {currentAyah ? (\n          <div className=\"ayah-card\">\n            <div className=\"ayah-header\">\n              <span>{currentAyah.surahName}</span>\n              <span>Ayah {currentAyah.numberInSurah}</span>\n            </div>\n            <p className=\"arabic ayah-text\">{currentAyah.text}</p>\n          </div>\n        ) : (\n          <div className=\"no-ayahs\">\n            <Check size={48} />\n            <h3>All Done!</h3>\n            <p>You've memorized all available ayahs in this surah, or today's goal is complete.</p>\n            <button className=\"btn btn-primary\" onClick={() => setView('dashboard')}>\n              Back to Dashboard\n            </button>\n          </div>\n        )}\n\n        {currentAyah && (\n          <div className=\"memorize-actions\">\n            <button \n              className=\"btn btn-secondary\"\n              onClick={() => setCurrentAyahIndex(Math.max(0, currentAyahIndex - 1))}\n              disabled={currentAyahIndex === 0}\n            >\n              <ChevronLeft size={18} /> Previous\n            </button>\n            \n            <button \n              className=\"btn btn-primary\"\n              onClick={() => {\n                if (currentAyah) {\n                  markAyahMemorized(settings.currentSurah, currentAyah.numberInSurah, currentAyah.text);\n                }\n                if (currentAyahIndex < todayAyahs.length - 1) {\n                  setCurrentAyahIndex(currentAyahIndex + 1);\n                } else {\n                  setView('dashboard');\n                }\n              }}\n            >\n              <Check size={18} />\n              {currentAyahIndex < todayAyahs.length - 1 ? 'Memorized' : 'Complete'}\n            </button>\n          </div>\n        )}\n\n        <style>{`\n          .memorize-view { animation: fadeIn 0.3s ease-out; }\n          .back-btn {\n            display: flex;\n            align-items: center;\n            gap: 4px;\n            background: none;\n            border: none;\n            color: var(--gold);\n            font-size: 14px;\n            cursor: pointer;\n            margin-bottom: 16px;\n          }\n          .progress-header {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            margin-bottom: 20px;\n          }\n          .progress-header span { font-size: 13px; color: var(--text-muted); }\n          .progress-dots { display: flex; gap: 6px; }\n          .dot {\n            width: 8px;\n            height: 8px;\n            border-radius: 50%;\n            background: var(--bg-surface-light);\n          }\n          .dot.done { background: var(--success); }\n          .dot.current { background: var(--gold); }\n          .ayah-card {\n            background: var(--bg-surface);\n            border-radius: 20px;\n            padding: 24px;\n            margin-bottom: 20px;\n          }\n          .ayah-header {\n            display: flex;\n            justify-content: space-between;\n            font-size: 13px;\n            color: var(--text-muted);\n            margin-bottom: 16px;\n          }\n          .ayah-text {\n            font-size: 28px;\n            line-height: 2.2;\n            text-align: center;\n          }\n          .no-ayahs {\n            text-align: center;\n            padding: 40px 20px;\n            background: var(--bg-surface);\n            border-radius: 20px;\n          }\n          .no-ayahs svg { color: var(--success); margin-bottom: 16px; }\n          .no-ayahs h3 { margin-bottom: 8px; }\n          .no-ayahs p { color: var(--text-muted); font-size: 14px; margin-bottom: 20px; }\n          .memorize-actions {\n            display: flex;\n            gap: 12px;\n          }\n          .memorize-actions .btn { flex: 1; padding: 16px; }\n          .btn {\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            gap: 8px;\n            border: none;\n            border-radius: 12px;\n            font-size: 14px;\n            font-weight: 600;\n            cursor: pointer;\n          }\n          .btn-primary {\n            background: var(--gold);\n            color: var(--bg-primary);\n          }\n          .btn-secondary {\n            background: var(--bg-surface);\n            color: var(--text-primary);\n          }\n          .btn:disabled {\n            opacity: 0.5;\n            cursor: not-allowed;\n          }\n        `}</style>\n      </div>\n    );\n  }\n\n  // Review View\n  if (view === 'review') {\n    const currentReview = reviewAyahs[currentAyahIndex];\n    \n    return (\n      <div className=\"review-view\">\n        <button className=\"back-btn\" onClick={() => { setView('dashboard'); setCurrentAyahIndex(0); }}>\n          <ChevronLeft size={18} /> Back\n        </button>\n\n        {reviewAyahs.length === 0 ? (\n          <div className=\"no-reviews\">\n            <Check size={48} />\n            <h3>No Reviews Due!</h3>\n            <p>Great job! All your memorized ayahs are up to date. Check back tomorrow.</p>\n            <button className=\"btn btn-primary\" onClick={() => setView('dashboard')}>\n              Back to Dashboard\n            </button>\n          </div>\n        ) : currentReview ? (\n          <>\n            <div className=\"progress-header\">\n              <span>Review {currentAyahIndex + 1} of {reviewAyahs.length}</span>\n              <span className=\"review-count\">Reviewed {currentReview.reviewCount}x</span>\n            </div>\n\n            <div className=\"review-card\">\n              <p className=\"arabic review-text\">{currentReview.text}...</p>\n              <span className=\"review-ref\">{currentReview.surah}:{currentReview.ayahNum}</span>\n            </div>\n\n            <p className=\"review-prompt\">How well did you remember this?</p>\n\n            <div className=\"review-actions\">\n              <button \n                className=\"btn btn-error\"\n                onClick={() => {\n                  markAyahReviewed(currentReview.id, false);\n                  if (currentAyahIndex < reviewAyahs.length - 1) {\n                    setCurrentAyahIndex(currentAyahIndex + 1);\n                  } else {\n                    setView('dashboard');\n                    setCurrentAyahIndex(0);\n                  }\n                }}\n              >\n                Hard 😓\n              </button>\n              \n              <button \n                className=\"btn btn-warning\"\n                onClick={() => {\n                  markAyahReviewed(currentReview.id, true);\n                  if (currentAyahIndex < reviewAyahs.length - 1) {\n                    setCurrentAyahIndex(currentAyahIndex + 1);\n                  } else {\n                    setView('dashboard');\n                    setCurrentAyahIndex(0);\n                  }\n                }}\n              >\n                Good 👍\n              </button>\n              \n              <button \n                className=\"btn btn-success\"\n                onClick={() => {\n                  markAyahReviewed(currentReview.id, true);\n                  if (currentAyahIndex < reviewAyahs.length - 1) {\n                    setCurrentAyahIndex(currentAyahIndex + 1);\n                  } else {\n                    setView('dashboard');\n                    setCurrentAyahIndex(0);\n                  }\n                }}\n              >\n                Easy ⭐\n              </button>\n            </div>\n          </>\n        ) : null}\n\n        <style>{`\n          .review-view { animation: fadeIn 0.3s ease-out; }\n          .back-btn {\n            display: flex;\n            align-items: center;\n            gap: 4px;\n            background: none;\n            border: none;\n            color: var(--gold);\n            font-size: 14px;\n            cursor: pointer;\n            margin-bottom: 16px;\n          }\n          .no-reviews {\n            text-align: center;\n            padding: 40px 20px;\n            background: var(--bg-surface);\n            border-radius: 20px;\n          }\n          .no-reviews svg { color: var(--success); margin-bottom: 16px; }\n          .no-reviews h3 { margin-bottom: 8px; }\n          .no-reviews p { color: var(--text-muted); font-size: 14px; margin-bottom: 20px; }\n          .progress-header {\n            display: flex;\n            justify-content: space-between;\n            margin-bottom: 20px;\n          }\n          .progress-header span { font-size: 13px; color: var(--text-muted); }\n          .review-count {\n            background: var(--primary);\n            padding: 4px 10px;\n            border-radius: 10px;\n            color: var(--gold);\n          }\n          .review-card {\n            background: var(--bg-surface);\n            border-radius: 20px;\n            padding: 30px;\n            text-align: center;\n            margin-bottom: 20px;\n          }\n          .review-text {\n            font-size: 24px;\n            line-height: 2;\n            margin-bottom: 16px;\n          }\n          .review-ref {\n            font-size: 12px;\n            color: var(--gold);\n            background: var(--primary);\n            padding: 4px 12px;\n            border-radius: 10px;\n          }\n          .review-prompt {\n            text-align: center;\n            color: var(--text-secondary);\n            margin-bottom: 16px;\n            font-size: 14px;\n          }\n          .review-actions {\n            display: grid;\n            grid-template-columns: repeat(3, 1fr);\n            gap: 10px;\n          }\n          .btn-error {\n            background: rgba(231,76,60,0.2);\n            color: var(--error);\n            padding: 16px;\n            border-radius: 12px;\n            font-weight: 600;\n          }\n          .btn-warning {\n            background: rgba(241,196,15,0.2);\n            color: var(--warning);\n            padding: 16px;\n            border-radius: 12px;\n            font-weight: 600;\n          }\n          .btn-success {\n            background: rgba(46,204,113,0.2);\n            color: var(--success);\n            padding: 16px;\n            border-radius: 12px;\n            font-weight: 600;\n          }\n        `}</style>\n      </div>\n    );\n  }\n\n  return null;\n}\n\nexport default MemorizationPlan;\n"],"mappings":"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AA,OACtE,CAAC;UAAA,GAJCtE,IAAI,CAACqB,EAAE;YAAA8C,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAKZ,CACN;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CACN,eAEDnI,OAAA;QAAA+H,QAAA,EAAQ;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}